<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio | Abdeldjallil Seif E. Zerrouni</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script defer src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script type="importmap">
  { "imports": {
      "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
      "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
  }}
  </script>
  <style>
    /* ============================================
       RESET & BASE
    ============================================ */
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Inter', sans-serif;
      background: #0a0a0f;
      color: #e0e0e0;
      line-height: 1.7;
      overflow-x: hidden;
    }
    a { color: #60a5fa; text-decoration: none; transition: color 0.3s; }
    a:hover { color: #93c5fd; }
    img { max-width: 100%; display: block; }

    /* ============================================
       NAVIGATION
    ============================================ */
    nav {
      position: fixed; top: 0; left: 0; right: 0;
      z-index: 1000;
      background: rgba(10, 10, 15, 0.85);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255,255,255,0.06);
      padding: 0 2rem;
    }
    .nav-container {
      max-width: 1200px; margin: 0 auto;
      display: flex; align-items: center; justify-content: space-between;
      height: 64px;
    }
    .nav-logo {
      font-weight: 700; font-size: 1.1rem; color: #fff;
      letter-spacing: -0.5px;
    }
    .nav-logo span { color: #3b82f6; }
    .nav-links { display: flex; gap: 2rem; list-style: none; }
    .nav-links a {
      color: #a0a0a0; font-size: 0.9rem; font-weight: 500;
      transition: color 0.3s;
    }
    .nav-links a:hover { color: #fff; }
    .nav-toggle { display: none; background: none; border: none; color: #fff; font-size: 1.4rem; cursor: pointer; }

    /* ============================================
       SECTIONS COMMON
    ============================================ */
    section { padding: 5rem 2rem; }
    .section-container { max-width: 1100px; margin: 0 auto; }
    .section-title {
      font-size: 2rem; font-weight: 800; margin-bottom: 0.5rem;
      color: #fff;
    }
    .section-title span { color: #3b82f6; }
    .section-subtitle {
      color: #707070; font-size: 1rem; margin-bottom: 3rem;
    }
    .section-line {
      width: 60px; height: 3px; background: #3b82f6;
      margin-bottom: 1rem; border-radius: 2px;
    }

    /* ============================================
       HERO
    ============================================ */
    .hero {
      min-height: 100vh;
      display: flex; align-items: center; justify-content: center;
      padding: 6rem 2rem 4rem;
      background: linear-gradient(135deg, #0a0a0f 0%, #111127 50%, #0a0a0f 100%);
      position: relative;
    }
    .hero::before {
      content: '';
      position: absolute; inset: 0;
      background: radial-gradient(circle at 70% 40%, rgba(59,130,246,0.08) 0%, transparent 60%);
      z-index: 1;
    }

    /* ‚îÄ‚îÄ 3D Engine Background ‚îÄ‚îÄ */
    #engine-canvas {
      position: absolute; inset: 0;
      z-index: 0;
      pointer-events: none;
      opacity: 0;
      transition: opacity 1.5s ease;
    }
    #engine-canvas.loaded { opacity: 0.12; }
    #engine-canvas canvas {
      width: 100%; height: 100%;
      display: block;
    }


    .hero-content {
      max-width: 1100px; width: 100%; margin: 0 auto;
      display: flex; align-items: center; gap: 4rem;
      position: relative; z-index: 2;
    }
    .hero-text { flex: 1; }
    .hero-badge {
      display: inline-block;
      background: rgba(59,130,246,0.12); color: #60a5fa;
      padding: 0.4rem 1rem; border-radius: 20px;
      font-size: 0.8rem; font-weight: 600;
      margin-bottom: 1.5rem;
      border: 1px solid rgba(59,130,246,0.2);
    }
    .hero-name {
      font-size: 3rem; font-weight: 800; color: #fff;
      line-height: 1.15; margin-bottom: 1rem;
      letter-spacing: -1px;
    }
    .hero-name span { color: #3b82f6; }
    .hero-title {
      font-size: 1.2rem; color: #a0a0a0; margin-bottom: 1.5rem;
      font-weight: 400;
    }
    .hero-desc {
      color: #808080; font-size: 1rem; line-height: 1.8;
      margin-bottom: 2rem; max-width: 520px;
    }
    .hero-buttons { display: flex; gap: 1rem; flex-wrap: wrap; }
    .btn {
      padding: 0.75rem 1.8rem; border-radius: 8px; font-weight: 600;
      font-size: 0.9rem; cursor: pointer; transition: all 0.3s;
      border: none; display: inline-flex; align-items: center; gap: 0.5rem;
    }
    .btn-primary {
      background: #3b82f6; color: #fff;
    }
    .btn-primary:hover { background: #2563eb; color: #fff; }
    .btn-outline {
      background: transparent; color: #e0e0e0;
      border: 1px solid rgba(255,255,255,0.15);
    }
    .btn-outline:hover { border-color: #3b82f6; color: #3b82f6; }
    .hero-image {
      flex-shrink: 0;
    }
    .hero-photo {
      width: 280px; height: 280px;
      border-radius: 20px;
      object-fit: cover;
      border: 3px solid rgba(59,130,246,0.3);
      box-shadow: 0 20px 60px rgba(59,130,246,0.15);
    }

    /* ============================================
       PROFIL
    ============================================ */
    .profil { background: #0d0d14; }
    .profil-content {
      background: linear-gradient(135deg, rgba(59,130,246,0.05), rgba(139,92,246,0.03));
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: 16px; padding: 2.5rem;
      font-size: 1.05rem; line-height: 1.9;
      color: #c0c0c0;
    }

    /* ============================================
       FORMATION
    ============================================ */
    .formation { background: #0a0a0f; }
    .formation-grid { display: flex; flex-direction: column; gap: 2rem; }
    .formation-card {
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: 16px; padding: 2rem;
      transition: border-color 0.3s;
    }
    .formation-card:hover { border-color: rgba(59,130,246,0.3); }
    .formation-header {
      display: flex; justify-content: space-between; align-items: flex-start;
      margin-bottom: 1rem; flex-wrap: wrap; gap: 1rem;
    }
    .formation-school {
      font-size: 1.25rem; font-weight: 700; color: #fff;
    }
    .formation-degree {
      color: #3b82f6; font-weight: 600; font-size: 0.95rem;
      margin-top: 0.25rem;
    }
    .formation-date {
      background: rgba(59,130,246,0.1); color: #60a5fa;
      padding: 0.3rem 0.9rem; border-radius: 20px;
      font-size: 0.8rem; font-weight: 600;
      white-space: nowrap;
    }
    .formation-location {
      color: #707070; font-size: 0.9rem; margin-top: 0.5rem;
    }
    .formation-location i { margin-right: 0.3rem; }
    .coursework-title {
      font-size: 0.9rem; font-weight: 600; color: #a0a0a0;
      margin-top: 1.5rem; margin-bottom: 0.75rem;
    }
    .coursework-tags {
      display: flex; flex-wrap: wrap; gap: 0.5rem;
    }
    .coursework-tag {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.08);
      color: #909090; padding: 0.3rem 0.8rem;
      border-radius: 6px; font-size: 0.8rem;
    }
    .coursework-empty {
      color: #505050; font-style: italic; font-size: 0.85rem;
      margin-top: 1rem;
    }
    /* ‚îÄ‚îÄ Semester Circles ‚îÄ‚îÄ */
    .semester-circles {
      display: flex; gap: 1rem; margin-top: 1rem; justify-content: flex-start;
    }
    .semester-circle {
      width: 48px; height: 48px; border-radius: 50%;
      background: rgba(255,255,255,0.05);
      border: 2px solid rgba(255,255,255,0.12);
      display: flex; align-items: center; justify-content: center;
      font-size: 0.85rem; font-weight: 700; color: #909090;
      cursor: pointer; transition: all 0.3s ease;
      user-select: none;
    }
    .semester-circle:hover {
      border-color: rgba(59,130,246,0.5);
      color: #60a5fa;
      background: rgba(59,130,246,0.08);
    }
    .semester-circle.active {
      border-color: #3b82f6;
      color: #fff;
      background: rgba(59,130,246,0.2);
      box-shadow: 0 0 12px rgba(59,130,246,0.3);
    }
    .semester-content {
      display: none; margin-top: 1rem;
      padding: 1rem; border-radius: 12px;
      background: rgba(255,255,255,0.02);
      border: 1px solid rgba(255,255,255,0.06);
      animation: semFadeIn 0.3s ease;
    }
    .semester-content.active { display: block; }
    @keyframes semFadeIn {
      0% { opacity: 0; transform: translateY(-8px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    .semester-content-empty {
      color: #505050; font-style: italic; font-size: 0.85rem;
    }

    /* ============================================
       COMP√âTENCES
    ============================================ */
    .competences { background: #0d0d14; }
    .skills-categories {
      display: flex; gap: 0.75rem; margin-bottom: 2rem; flex-wrap: wrap;
    }
    .skill-cat-btn {
      padding: 0.5rem 1.2rem; border-radius: 8px;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.08);
      color: #a0a0a0; cursor: pointer; font-size: 0.85rem; font-weight: 500;
      transition: all 0.3s;
    }
    .skill-cat-btn.active, .skill-cat-btn:hover {
      background: rgba(59,130,246,0.15);
      border-color: rgba(59,130,246,0.3);
      color: #60a5fa;
    }
    .skills-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 1.25rem;
    }
    .skill-card {
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: 12px; padding: 1.5rem;
      text-align: center; transition: all 0.3s;
    }
    .skill-card:hover {
      border-color: rgba(59,130,246,0.3);
      transform: translateY(-2px);
    }
    .skill-icon {
      font-size: 2rem; margin-bottom: 0.75rem; color: #3b82f6;
    }
    .skill-name { font-weight: 700; color: #fff; font-size: 1rem; margin-bottom: 0.3rem; }
    .skill-level {
      font-size: 0.75rem; font-weight: 600; text-transform: uppercase;
      letter-spacing: 1px; color: #60a5fa;
    }
    .skill-bar-container {
      width: 100%; height: 4px; background: rgba(255,255,255,0.08);
      border-radius: 2px; margin-top: 0.75rem; overflow: hidden;
    }
    .skill-bar {
      height: 100%; background: linear-gradient(90deg, #3b82f6, #60a5fa);
      border-radius: 2px;
    }

    /* ============================================
       LANGUES
    ============================================ */
    .langues { background: #0a0a0f; }
    .langues-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 1.25rem;
    }
    .langue-card {
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: 12px; padding: 1.5rem;
      display: flex; align-items: center; gap: 1.25rem;
      transition: border-color 0.3s;
    }
    .langue-card:hover { border-color: rgba(59,130,246,0.3); }
    .langue-flag { font-size: 2.2rem; }
    .langue-info { flex: 1; }
    .langue-name { font-weight: 700; color: #fff; font-size: 1rem; }
    .langue-level { color: #60a5fa; font-size: 0.85rem; font-weight: 600; }
    .langue-bar-container {
      width: 100%; height: 4px; background: rgba(255,255,255,0.08);
      border-radius: 2px; margin-top: 0.5rem; overflow: hidden;
    }
    .langue-bar {
      height: 100%; background: linear-gradient(90deg, #3b82f6, #60a5fa);
      border-radius: 2px;
    }

    /* ============================================
       TIMELINE
    ============================================ */
    .timeline-section { background: #0d0d14; }
    .timeline {
      position: relative;
      max-width: 900px; margin: 0 auto;
    }
    .timeline::before {
      content: ''; position: absolute;
      left: 50%; top: 0; bottom: 0;
      width: 2px; background: rgba(59,130,246,0.2);
      transform: translateX(-50%);
    }
    .timeline-item {
      position: relative; width: 50%;
      padding: 0 2.5rem 3rem;
    }
    .timeline-item:nth-child(odd) { left: 0; text-align: right; padding-right: 3rem; }
    .timeline-item:nth-child(even) { left: 50%; text-align: left; padding-left: 3rem; }
    .timeline-dot {
      position: absolute; top: 0.5rem;
      width: 14px; height: 14px;
      background: #3b82f6; border-radius: 50%;
      border: 3px solid #0d0d14;
      z-index: 1;
    }
    .timeline-item:nth-child(odd) .timeline-dot { right: -7px; }
    .timeline-item:nth-child(even) .timeline-dot { left: -7px; }
    .timeline-card {
      border-radius: 16px; overflow: hidden;
      border: 1px solid rgba(255,255,255,0.06);
      background: rgba(255,255,255,0.03);
      transition: border-color 0.3s;
    }
    .timeline-card:hover { border-color: rgba(59,130,246,0.3); }
    .timeline-card-image {
      width: 100%; height: 180px;
      object-fit: cover;
      opacity: 0.7;
    }
    .timeline-card-body { padding: 1.5rem; }
    .timeline-year {
      font-size: 0.8rem; font-weight: 700; color: #3b82f6;
      text-transform: uppercase; letter-spacing: 2px;
      margin-bottom: 0.5rem;
    }
    .timeline-card-title {
      font-size: 1.1rem; font-weight: 700; color: #fff;
      margin-bottom: 0.5rem;
    }
    .timeline-card-text {
      color: #a0a0a0; font-size: 0.9rem; line-height: 1.7;
      text-align: left;
    }

    /* ============================================
       PROJETS
    ============================================ */
    .projets { background: #0a0a0f; }
    .projets-filters {
      display: flex; gap: 0.75rem; margin-bottom: 2rem; flex-wrap: wrap;
    }
    .projets-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1.5rem;
    }
    .projet-card {
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: 16px; overflow: hidden;
      transition: all 0.3s;
    }
    .projet-card:hover {
      border-color: rgba(59,130,246,0.3);
      transform: translateY(-3px);
    }
    .projet-card { position: relative; }
    .projet-badge {
      position: absolute; top: 12px; left: 12px; z-index: 2;
      width: 36px; height: 36px;
      background: rgba(10, 10, 15, 0.85);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      color: #60a5fa; font-size: 0.7rem; font-weight: 700;
      letter-spacing: 0.5px;
      backdrop-filter: blur(8px);
    }
    .projet-image {
      width: 100%; height: 200px;
      background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(139,92,246,0.05));
      display: flex; align-items: center; justify-content: center;
      color: #404060; font-size: 0.9rem; font-style: italic;
    }
    .projet-image i { font-size: 3rem; color: #303050; }
    .projet-body { padding: 1.5rem; }
    .projet-title { font-weight: 700; color: #fff; font-size: 1.05rem; margin-bottom: 0.5rem; }
    .projet-desc { color: #808080; font-size: 0.9rem; line-height: 1.6; margin-bottom: 1rem; }
    .projet-tags { display: flex; gap: 0.5rem; flex-wrap: wrap; }
    .projet-tag {
      background: rgba(59,130,246,0.1); color: #60a5fa;
      padding: 0.2rem 0.6rem; border-radius: 4px;
      font-size: 0.75rem; font-weight: 600;
    }
    .projet-card.clickable { cursor: pointer; }
    .projet-card.clickable .projet-body::after {
      content: 'Voir le projet ‚Üí';
      display: block; margin-top: 1rem;
      color: #3b82f6; font-size: 0.85rem; font-weight: 600;
    }

    /* ============================================
       MODAL PROJET
    ============================================ */
    .projet-modal {
      display: none; position: fixed; inset: 0; z-index: 2000;
      align-items: flex-start; justify-content: center;
      padding: 2rem; overflow-y: auto;
    }
    .projet-modal.active { display: flex; }
    .modal-overlay {
      position: fixed; inset: 0;
      background: rgba(0, 0, 0, 0.85);
      z-index: 1;
    }
    .modal-content {
      position: relative; z-index: 2;
      background: #111118;
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 20px;
      max-width: 960px; width: 100%;
      padding: 3rem;
      margin: 2rem 0;
    }
    .modal-close {
      position: absolute; top: 1.5rem; right: 1.5rem;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.1);
      color: #a0a0a0; font-size: 1.2rem;
      width: 40px; height: 40px;
      border-radius: 10px; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: all 0.3s;
    }
    .modal-close:hover { background: rgba(239,68,68,0.15); color: #f87171; border-color: rgba(239,68,68,0.3); }
    .modal-header { margin-bottom: 2.5rem; }
    .modal-header h2 {
      font-size: 1.8rem; font-weight: 800; color: #fff;
      margin-bottom: 1rem; line-height: 1.3;
    }
    .modal-tags { display: flex; gap: 0.5rem; flex-wrap: wrap; }
    .modal-tags .projet-tag { font-size: 0.8rem; padding: 0.3rem 0.8rem; }
    .modal-section {
      margin-bottom: 2.5rem;
      padding-bottom: 2.5rem;
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }
    .modal-section:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
    .modal-section h3 {
      font-size: 1.15rem; font-weight: 700; color: #fff;
      margin-bottom: 1rem;
      display: flex; align-items: center; gap: 0.6rem;
    }
    .modal-section h3 i { color: #3b82f6; font-size: 1rem; }
    .modal-section p, .modal-section li {
      color: #b0b0b0; font-size: 0.95rem; line-height: 1.8;
    }
    .modal-section ul {
      list-style: none; padding: 0;
    }
    .modal-section ul li {
      padding: 0.3rem 0; padding-left: 1.5rem;
      position: relative;
    }
    .modal-section ul li::before {
      content: '‚ñ∏'; position: absolute; left: 0;
      color: #3b82f6; font-weight: 700;
    }

    /* CODE TABS */
    .code-tabs {
      display: flex; gap: 0; margin-bottom: 0;
      border-bottom: 2px solid rgba(255,255,255,0.08);
      overflow-x: auto;
    }
    .code-tab {
      padding: 0.7rem 1.3rem;
      background: none; border: none;
      color: #707070; font-size: 0.85rem; font-weight: 600;
      cursor: pointer; transition: all 0.3s;
      border-bottom: 2px solid transparent;
      margin-bottom: -2px; white-space: nowrap;
      font-family: 'JetBrains Mono', monospace;
    }
    .code-tab:hover { color: #a0a0a0; }
    .code-tab.active {
      color: #60a5fa;
      border-bottom-color: #3b82f6;
      background: rgba(59,130,246,0.05);
    }
    .code-panel {
      display: none;
      background: #0a0a12;
      border: 1px solid rgba(255,255,255,0.06);
      border-top: none;
      border-radius: 0 0 12px 12px;
      overflow: hidden;
    }
    .code-panel.active { display: block; }
    .code-panel pre {
      padding: 1.5rem;
      overflow-x: auto;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
      line-height: 1.7;
      color: #c8d6e5;
      margin: 0;
      max-height: 500px;
      overflow-y: auto;
    }
    .code-panel pre::-webkit-scrollbar { width: 6px; height: 6px; }
    .code-panel pre::-webkit-scrollbar-track { background: rgba(255,255,255,0.02); }
    .code-panel pre::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 3px; }

    /* IMAGE GRIDS */
    .modal-img-grid {
      display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;
      margin-bottom: 1.5rem;
    }
    .modal-img-grid.single { grid-template-columns: 1fr; }
    .modal-img-container {
      border-radius: 12px; overflow: hidden;
      border: 1px solid rgba(255,255,255,0.06);
    }
    .modal-img-container img { max-width: 100%; height: auto; display: block; margin: 0 auto; }
    .modal-img-caption {
      padding: 0.6rem 1rem;
      background: rgba(255,255,255,0.02);
      color: #707070; font-size: 0.8rem; font-style: italic;
      text-align: center;
    }
    .modal-result-box {
      background: rgba(59,130,246,0.06);
      border: 1px solid rgba(59,130,246,0.15);
      border-radius: 12px; padding: 1.5rem;
      margin: 1rem 0;
    }
    .modal-result-box .result-row {
      display: flex; justify-content: space-between; align-items: center;
      padding: 0.4rem 0;
      color: #b0b0b0; font-size: 0.95rem;
    }
    .modal-result-box .result-row span:last-child {
      font-weight: 700; color: #fff;
    }
    .modal-result-box .result-row.highlight span:last-child {
      color: #60a5fa; font-size: 1.1rem;
    }
    @media (max-width: 768px) {
      .modal-img-grid { grid-template-columns: 1fr; }
    }

    /* CHRONO & VIDEO */
    .chrono-container {
      border-radius: 12px; overflow: hidden;
      border: 1px solid rgba(255,255,255,0.06);
      margin-bottom: 1.5rem;
    }
    .chrono-container img {
      width: 100%; display: block;
    }
    .video-container {
      border-radius: 12px; overflow: hidden;
      border: 1px solid rgba(255,255,255,0.06);
      margin-bottom: 1.5rem;
    }
    .video-container video {
      width: 100%; display: block;
      background: #000;
    }

    /* ============================================
       CONTACT
    ============================================ */
    .contact { background: #0d0d14; }
    .contact-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1.5rem;
    }
    .contact-card {
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: 12px; padding: 2rem;
      text-align: center; transition: all 0.3s;
    }
    .contact-card:hover {
      border-color: rgba(59,130,246,0.3);
      transform: translateY(-2px);
    }
    .contact-icon {
      font-size: 1.8rem; color: #3b82f6; margin-bottom: 1rem;
    }
    .contact-label {
      font-weight: 700; color: #fff; font-size: 1rem; margin-bottom: 0.5rem;
    }
    .contact-value {
      color: #a0a0a0; font-size: 0.9rem; word-break: break-all;
    }

    /* ============================================
       FOOTER
    ============================================ */
    footer {
      text-align: center; padding: 2rem;
      color: #505050; font-size: 0.8rem;
      border-top: 1px solid rgba(255,255,255,0.04);
      background: #0a0a0f;
    }

    /* ============================================
       THEME TOGGLE BUTTON
    ============================================ */
    .theme-toggle {
      background: none; border: none; cursor: pointer;
      font-size: 1.2rem; color: #a0a0a0;
      width: 40px; height: 40px;
      display: flex; align-items: center; justify-content: center;
      border-radius: 8px; transition: all 0.3s;
    }
    .theme-toggle:hover { color: #fff; background: rgba(255,255,255,0.08); }
    .theme-toggle .fa-sun { display: none; }
    .theme-toggle .fa-moon { display: inline; }
    body.light-mode .theme-toggle .fa-sun { display: inline; }
    body.light-mode .theme-toggle .fa-moon { display: none; }
    body.light-mode .theme-toggle { color: #555; }
    body.light-mode .theme-toggle:hover { color: #222; background: rgba(0,0,0,0.06); }

    /* ============================================
       LIGHT MODE OVERRIDES
    ============================================ */
    body.light-mode {
      background: #f5f7fa;
      color: #333;
    }
    body.light-mode a { color: #2563eb; }
    body.light-mode a:hover { color: #1d4ed8; }

    /* Nav */
    body.light-mode nav {
      background: rgba(255, 255, 255, 0.9);
      border-bottom: 1px solid rgba(0,0,0,0.08);
    }
    body.light-mode .nav-logo { color: #111; }
    body.light-mode .nav-links a { color: #666; }
    body.light-mode .nav-links a:hover { color: #111; }
    body.light-mode .nav-toggle { color: #333; }
    body.light-mode .nav-links.active {
      background: rgba(255,255,255,0.97);
      border-bottom: 1px solid rgba(0,0,0,0.08);
    }

    /* Hero */
    body.light-mode .hero {
      background: linear-gradient(135deg, #f5f7fa 0%, #e8edf5 50%, #f5f7fa 100%);
    }
    body.light-mode .hero::before {
      background: radial-gradient(circle at 70% 40%, rgba(59,130,246,0.06) 0%, transparent 60%);
    }
    body.light-mode .hero-name { color: #111; }
    body.light-mode .hero-title { color: #666; }
    body.light-mode .hero-desc { color: #777; }
    body.light-mode .hero-badge {
      background: rgba(59,130,246,0.08); color: #2563eb;
      border-color: rgba(59,130,246,0.15);
    }
    body.light-mode .btn-outline {
      color: #444; border-color: rgba(0,0,0,0.15);
    }
    body.light-mode .btn-outline:hover { color: #2563eb; border-color: #2563eb; }
    body.light-mode .hero-photo {
      border-color: rgba(59,130,246,0.25);
      box-shadow: 0 20px 60px rgba(59,130,246,0.1);
    }

    /* Sections */
    body.light-mode .profil { background: #fff; }
    body.light-mode .formation { background: #f5f7fa; }
    body.light-mode .competences { background: #fff; }
    body.light-mode .langues { background: #f5f7fa; }
    body.light-mode .timeline-section { background: #fff; }
    body.light-mode .projets { background: #f5f7fa; }
    body.light-mode .contact { background: #fff; }
    body.light-mode footer {
      background: #f5f7fa; color: #999;
      border-top: 1px solid rgba(0,0,0,0.06);
    }
    body.light-mode .section-title { color: #111; }
    body.light-mode .section-subtitle { color: #999; }

    /* Profil */
    body.light-mode .profil-content {
      background: linear-gradient(135deg, rgba(59,130,246,0.04), rgba(139,92,246,0.02));
      border-color: rgba(0,0,0,0.08); color: #555;
    }

    /* Cards (formation, skill, langue, contact, projet, timeline) */
    body.light-mode .formation-card,
    body.light-mode .skill-card,
    body.light-mode .langue-card,
    body.light-mode .contact-card,
    body.light-mode .projet-card,
    body.light-mode .timeline-card {
      background: #fff;
      border-color: rgba(0,0,0,0.08);
      box-shadow: 0 2px 12px rgba(0,0,0,0.04);
    }
    body.light-mode .formation-card:hover,
    body.light-mode .skill-card:hover,
    body.light-mode .langue-card:hover,
    body.light-mode .contact-card:hover,
    body.light-mode .projet-card:hover,
    body.light-mode .timeline-card:hover {
      border-color: rgba(59,130,246,0.3);
      box-shadow: 0 4px 20px rgba(59,130,246,0.08);
    }

    /* Formation */
    body.light-mode .formation-school { color: #111; }
    body.light-mode .formation-location { color: #999; }
    body.light-mode .formation-date { background: rgba(59,130,246,0.08); }
    body.light-mode .coursework-tag {
      background: rgba(0,0,0,0.04); border-color: rgba(0,0,0,0.08); color: #666;
    }
    body.light-mode .semester-circle {
      background: rgba(0,0,0,0.03); border-color: rgba(0,0,0,0.12); color: #888;
    }
    body.light-mode .semester-circle:hover {
      background: rgba(59,130,246,0.06); border-color: rgba(59,130,246,0.4); color: #2563eb;
    }
    body.light-mode .semester-circle.active {
      background: rgba(59,130,246,0.12); border-color: #3b82f6; color: #2563eb;
    }
    body.light-mode .semester-content {
      background: rgba(0,0,0,0.02); border-color: rgba(0,0,0,0.06);
    }

    /* Skills */
    body.light-mode .skill-cat-btn {
      background: rgba(0,0,0,0.03); border-color: rgba(0,0,0,0.08); color: #777;
    }
    body.light-mode .skill-cat-btn.active,
    body.light-mode .skill-cat-btn:hover {
      background: rgba(59,130,246,0.08); border-color: rgba(59,130,246,0.25); color: #2563eb;
    }
    body.light-mode .skill-name { color: #222; }
    body.light-mode .skill-level { color: #2563eb; }
    body.light-mode .skill-bar-container,
    body.light-mode .langue-bar-container {
      background: rgba(0,0,0,0.06);
    }

    /* Langues */
    body.light-mode .langue-name { color: #222; }
    body.light-mode .langue-level { color: #2563eb; }

    /* Timeline */
    body.light-mode .timeline::before { background: rgba(59,130,246,0.15); }
    body.light-mode .timeline-dot { border-color: #fff; }
    body.light-mode .timeline-card-title { color: #111; }
    body.light-mode .timeline-card-text { color: #777; }
    body.light-mode .timeline-card-image { opacity: 0.85; }

    /* Projets */
    body.light-mode .projet-badge {
      background: rgba(255,255,255,0.9); border-color: rgba(0,0,0,0.1);
      color: #2563eb;
    }
    body.light-mode .projet-image {
      background: linear-gradient(135deg, rgba(59,130,246,0.06), rgba(139,92,246,0.03));
    }
    body.light-mode .projet-title { color: #111; }
    body.light-mode .projet-desc { color: #777; }
    body.light-mode .projet-tag {
      background: rgba(59,130,246,0.06); color: #2563eb;
    }

    /* Modal */
    body.light-mode .modal-overlay { background: rgba(0,0,0,0.5); }
    body.light-mode .modal-content {
      background: #fff; border-color: rgba(0,0,0,0.1);
    }
    body.light-mode .modal-close {
      background: rgba(0,0,0,0.04); border-color: rgba(0,0,0,0.08); color: #888;
    }
    body.light-mode .modal-close:hover {
      background: rgba(239,68,68,0.08); color: #dc2626; border-color: rgba(239,68,68,0.2);
    }
    body.light-mode .modal-header h2 { color: #111; }
    body.light-mode .modal-section { border-bottom-color: rgba(0,0,0,0.06); }
    body.light-mode .modal-section h3 { color: #222; }
    body.light-mode .modal-section p,
    body.light-mode .modal-section li { color: #555; }
    body.light-mode .modal-img-container { border-color: rgba(0,0,0,0.08); }
    body.light-mode .modal-img-caption { background: rgba(0,0,0,0.02); color: #999; }
    body.light-mode .modal-result-box {
      background: rgba(59,130,246,0.04); border-color: rgba(59,130,246,0.1);
    }
    body.light-mode .modal-result-box .result-row { color: #666; }
    body.light-mode .modal-result-box .result-row span:last-child { color: #222; }

    /* Code panels */
    body.light-mode .code-tab { color: #888; }
    body.light-mode .code-tab:hover { color: #555; }
    body.light-mode .code-tab.active {
      color: #2563eb; background: rgba(59,130,246,0.04);
    }
    body.light-mode .code-tabs { border-bottom-color: rgba(0,0,0,0.08); }
    body.light-mode .code-panel {
      background: #f8f9fb; border-color: rgba(0,0,0,0.08);
    }
    body.light-mode .code-panel pre { color: #334155; }

    /* Contact */
    body.light-mode .contact-label { color: #222; }
    body.light-mode .contact-value { color: #777; }

    /* Chrono & video */
    body.light-mode .chrono-container,
    body.light-mode .video-container {
      border-color: rgba(0,0,0,0.08);
    }

    /* ============================================
       BACK TO TOP BUTTON
    ============================================ */
    #backToTop {
      position: fixed; bottom: 2rem; right: 2rem;
      width: 46px; height: 46px;
      border-radius: 50%; border: none; cursor: pointer;
      background: #3b82f6; color: #fff;
      font-size: 1.1rem;
      display: flex; align-items: center; justify-content: center;
      opacity: 0; visibility: hidden;
      transform: translateY(10px);
      transition: all 0.3s ease;
      z-index: 999;
      box-shadow: 0 4px 15px rgba(59,130,246,0.35);
    }
    #backToTop.visible {
      opacity: 1; visibility: visible;
      transform: translateY(0);
    }
    #backToTop:hover {
      background: #2563eb;
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(59,130,246,0.45);
    }
    body.light-mode #backToTop {
      box-shadow: 0 4px 15px rgba(59,130,246,0.25);
    }

    /* ============================================
       RESPONSIVE
    ============================================ */
    @media (max-width: 768px) {
      .hero-content { flex-direction: column-reverse; text-align: center; gap: 2rem; }
      .hero-name { font-size: 2.2rem; }
      .hero-desc { margin: 0 auto 2rem; }
      .hero-buttons { justify-content: center; }
      .hero-photo { width: 200px; height: 200px; }
      .nav-links { display: none; }
      .nav-links.active {
        display: flex; flex-direction: column;
        position: absolute; top: 64px; left: 0; right: 0;
        background: rgba(10,10,15,0.95);
        padding: 1.5rem 2rem; gap: 1rem;
        border-bottom: 1px solid rgba(255,255,255,0.06);
      }
      .nav-toggle { display: block; }
      .timeline::before { left: 20px; }
      .timeline-item { width: 100%; left: 0 !important; text-align: left !important; padding-left: 3rem !important; padding-right: 0 !important; }
      .timeline-dot { left: 13px !important; right: auto !important; }
      .section-title { font-size: 1.6rem; }
      .modal-content { padding: 1.5rem; margin: 1rem 0; }
      .modal-header h2 { font-size: 1.3rem; }
      .projet-modal { padding: 0.5rem; }
      .code-panel pre { font-size: 0.7rem; padding: 1rem; }
      #engine-canvas.loaded { opacity: 0.10; }
    }
  </style>
</head>
<body>

  <!-- ==================== NAVIGATION ==================== -->
  <nav>
    <div class="nav-container">
      <div class="nav-logo">Abdeldjallil <span>Z.</span></div>
      <ul class="nav-links" id="navLinks">
        <li><a href="#profil">Profil</a></li>
        <li><a href="#formation">Formation</a></li>
        <li><a href="#competences">Comp√©tences</a></li>
        <li><a href="#parcours">Parcours</a></li>
        <li><a href="#projets">Projets</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
      <div style="display:flex;align-items:center;gap:0.5rem;">
        <button class="theme-toggle" id="themeToggle" aria-label="Changer le th√®me">
          <i class="fas fa-sun"></i>
          <i class="fas fa-moon"></i>
        </button>
        <button class="nav-toggle" id="navToggle" aria-label="Menu">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- ==================== HERO ==================== -->
  <section class="hero" id="hero">
    <div id="engine-canvas"></div>
    <div class="hero-content">
      <div class="hero-text">
        <div class="hero-badge"><i class="fas fa-cogs"></i>&nbsp; Ouvert aux opportunit√©s d'alternance</div>
        <h1 class="hero-name">Abdeldjallil<br><span>Seif E. Zerrouni</span></h1>
        <p class="hero-title">√âtudiant en G√©nie M√©canique ¬∑ L3 Universit√© de Poitiers</p>
        <p class="hero-desc">
          Passionn√© par l'ing√©nierie m√©canique, je cherche une alternance √† partir de septembre 2026 pour confronter mes acquis universitaires au monde industriel. Ce portfolio regroupe un aper√ßu de mes projets d'ing√©nierie r√©alis√©s au fil de mon parcours.
        </p>
        <div class="hero-buttons">
          <a href="#projets" class="btn btn-primary"><i class="fas fa-briefcase"></i> Mes Projets</a>
          <a href="#contact" class="btn btn-outline"><i class="fas fa-envelope"></i> Me Contacter</a>
        </div>
      </div>
      <div class="hero-image">
        <img src="pica.png" alt="Photo de profil" class="hero-photo">
      </div>
    </div>
  </section>

  <!-- ==================== PROFIL ==================== -->
  <section class="profil" id="profil">
    <div class="section-container">
      <div class="section-line" data-aos="fade-up"></div>
      <h2 class="section-title" data-aos="fade-up" data-aos-delay="50">√Ä <span>Propos</span></h2>
      <p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">Mon parcours et mes ambitions</p>
      <div class="profil-content" data-aos="fade-up" data-aos-delay="150">
        √âtudiant en troisi√®me ann√©e de Licence G√©nie M√©canique √† l'Universit√© de Poitiers, je b√©n√©ficie d'un parcours international ayant d√©but√© en Pologne, √† Kielce University of Technology, o√π j'ai suivi deux ann√©es de formation en anglais. Cette exp√©rience m'a permis d'acqu√©rir une aisance en anglais, aussi bien √† l'oral qu'√† l'√©crit, notamment en anglais technique, et de m'adapter pleinement √† un environnement bilingue. J'y ai √©galement acquis des bases solides en SolidWorks ainsi qu'une premi√®re exp√©rience en programmation CNC. √Ä Poitiers, ma ma√Ætrise de SolidWorks s'est approfondie au fil de nombreux projets de bureau d'√©tudes, allant de la conception de pi√®ces m√©canosoud√©es aux simulations de r√©sistance des mat√©riaux. J'ai √©galement d√©velopp√© une solide comp√©tence en automatisme ‚Äî analyse de cahier des charges, r√©daction de GRAFCET ‚Äî avec la programmation en Structured Text sur B&R Automation Studio. D√©sireux de confronter mes acquis au monde professionnel, je suis activement √† la recherche d'une alternance en ing√©nierie m√©canique √† partir de septembre 2026.
      </div>
    </div>
  </section>

  <!-- ==================== FORMATION ==================== -->
  <section class="formation" id="formation">
    <div class="section-container">
      <div class="section-line" data-aos="fade-up"></div>
      <h2 class="section-title" data-aos="fade-up" data-aos-delay="50"><span>Formation</span></h2>
      <p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">Mon cursus acad√©mique</p>
      <div class="formation-grid">

        <!-- Poitiers -->
        <div class="formation-card" data-aos="fade-up" data-aos-delay="150">
          <div class="formation-header">
            <div>
              <div class="formation-school">Universit√© de Poitiers</div>
              <div class="formation-degree">Licence G√©nie M√©canique ‚Äî L3</div>
              <div class="formation-location"><i class="fas fa-map-marker-alt"></i> Poitiers, France</div>
            </div>
            <span class="formation-date">2025 ‚Äî Pr√©sent</span>
          </div>
          <div class="semester-circles" data-group="poitiers">
            <div class="semester-circle" data-semester="s5">S5</div>
            <div class="semester-circle" data-semester="s6">S6</div>
          </div>
          <div class="semester-content" id="sem-poitiers-s5">
            <div class="coursework-tags">
              <span class="coursework-tag">Math√©matique et G√©nie Informatique</span>
              <span class="coursework-tag">M√©canique et D√©marche de Conception</span>
              <span class="coursework-tag">Contr√¥le Commande et Conception M√©canique</span>
              <span class="coursework-tag">M√©canique des Milieux Continus Solides</span>
              <span class="coursework-tag">UE5 Anglais et Professionnalisation (S5)</span>
            </div>
          </div>
          <div class="semester-content" id="sem-poitiers-s6">
            <div class="coursework-tags">
              <span class="coursework-tag">Math√©matique et M√©thodes Num√©riques</span>
              <span class="coursework-tag">Mod√©lisation, M√©canismes et G√©nie M√©canique</span>
              <span class="coursework-tag">M√©canique des Fluides et Technologie</span>
              <span class="coursework-tag">Techniques d'Industrialisation</span>
              <span class="coursework-tag">UE5 Anglais et Professionnalisation (S6)</span>
            </div>
          </div>
        </div>

        <!-- Kielce -->
        <div class="formation-card" data-aos="fade-up" data-aos-delay="200">
          <div class="formation-header">
            <div>
              <div class="formation-school">Kielce University of Technology</div>
              <div class="formation-degree">Licence G√©nie M√©canique ‚Äî L1 / L2</div>
              <div class="formation-location"><i class="fas fa-map-marker-alt"></i> Kielce, Pologne</div>
            </div>
            <span class="formation-date">2023 ‚Äî 2025</span>
          </div>
          <div class="semester-circles" data-group="kielce">
            <div class="semester-circle" data-semester="s1">S1</div>
            <div class="semester-circle" data-semester="s2">S2</div>
            <div class="semester-circle" data-semester="s3">S3</div>
            <div class="semester-circle" data-semester="s4">S4</div>
          </div>
          <div class="semester-content" id="sem-kielce-s1">
            <div class="coursework-tags">
              <span class="coursework-tag">Calcul</span>
              <span class="coursework-tag">G√©nie √âlectrique</span>
              <span class="coursework-tag">Ergonomie et Sant√© et S√©curit√© au Travail</span>
              <span class="coursework-tag">Fondamentaux de la Standardisation et de l'Innovation</span>
              <span class="coursework-tag">HES1</span>
              <span class="coursework-tag">Les Technologies de l'Information</span>
              <span class="coursework-tag">Alg√®bre Lin√©aire</span>
              <span class="coursework-tag">Chimie Technique</span>
              <span class="coursework-tag">Dessin Technique</span>
              <span class="coursework-tag">Physique Technique</span>
              <span class="coursework-tag">Th√©orie des Machines</span>
            </div>
          </div>
          <div class="semester-content" id="sem-kielce-s2">
            <div class="coursework-tags">
              <span class="coursework-tag">G√©nie Automobile</span>
              <span class="coursework-tag">M√©canique de l'Ing√©nieur I</span>
              <span class="coursework-tag">Dessin Technique</span>
              <span class="coursework-tag">Langue √âtrang√®re (Polonais)</span>
              <span class="coursework-tag">Fondamentaux du Moulage / de la Fonderie</span>
              <span class="coursework-tag">Fondamentaux de l'√âlectronique</span>
              <span class="coursework-tag">Fondamentaux du Fa√ßonnage des M√©taux</span>
              <span class="coursework-tag">Fondamentaux du Prototypage Rapide</span>
              <span class="coursework-tag">Fondamentaux du Soudage</span>
              <span class="coursework-tag">Math√©matiques</span>
              <span class="coursework-tag">Science des M√©taux I</span>
              <span class="coursework-tag">Microtechnologie et Nanotechnologie</span>
              <span class="coursework-tag">Les Plastiques et les Compos√©s</span>
            </div>
          </div>
          <div class="semester-content" id="sem-kielce-s3">
            <div class="coursework-tags">
              <span class="coursework-tag">Dessin Technique Assist√© par Ordinateur</span>
              <span class="coursework-tag">M√©canique de l'Ing√©nieur II</span>
              <span class="coursework-tag">Langue √âtrang√®re (Polonais)</span>
              <span class="coursework-tag">Fondamentaux du Moulage / de la Fonderie (Lab)</span>
              <span class="coursework-tag">Fondamentaux de la Science Informatique</span>
              <span class="coursework-tag">Fondamentaux du Fa√ßonnage des M√©taux (Lab)</span>
              <span class="coursework-tag">Fondamentaux du Soudage (Lab)</span>
              <span class="coursework-tag">Protection de la Propri√©t√© Intellectuelle</span>
              <span class="coursework-tag">Technologie Laser</span>
              <span class="coursework-tag">Science des M√©taux II</span>
              <span class="coursework-tag">M√©trologie I</span>
              <span class="coursework-tag">R√©sistance des Mat√©riaux</span>
              <span class="coursework-tag">√âducation Physique</span>
            </div>
          </div>
          <div class="semester-content" id="sem-kielce-s4">
            <div class="coursework-tags">
              <span class="coursework-tag">M√©canique des Fluides</span>
              <span class="coursework-tag">Langue √âtrang√®re (Polonais)</span>
              <span class="coursework-tag">Fondamentaux de la Programmation CNC</span>
              <span class="coursework-tag">Fondamentaux de la Technique de R√©glage</span>
              <span class="coursework-tag">Fondamentaux de la Conception des Machines</span>
              <span class="coursework-tag">Fondamentaux de l'Usinage</span>
              <span class="coursework-tag">G√©nie de Fabrication</span>
              <span class="coursework-tag">M√©trologie II</span>
              <span class="coursework-tag">Th√©orie de la Machinerie et des M√©canismes</span>
              <span class="coursework-tag">√âducation Physique</span>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- ==================== COMP√âTENCES ==================== -->
  <section class="competences" id="competences">
    <div class="section-container">
      <div class="section-line" data-aos="fade-up"></div>
      <h2 class="section-title" data-aos="fade-up" data-aos-delay="50">Comp√©tences &amp; <span>Expertise</span></h2>
      <p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">Mes outils et savoir-faire</p>

      <div class="skills-categories" data-aos="fade-up" data-aos-delay="150">
        <button class="skill-cat-btn active" data-cat="all">Toutes</button>
        <button class="skill-cat-btn" data-cat="meca">G√©nie M√©canique</button>
        <button class="skill-cat-btn" data-cat="auto">Automatisme</button>
        <button class="skill-cat-btn" data-cat="additional">Compl√©mentaires</button>
      </div>

      <div class="skills-grid" id="skillsGrid">

        <div class="skill-card" data-category="meca" data-aos="fade-up" data-aos-delay="200">
          <div class="skill-icon"><i class="fas fa-drafting-compass"></i></div>
          <div class="skill-name">SolidWorks</div>
          <div class="skill-level">Avanc√©</div>
          <div class="skill-bar-container"><div class="skill-bar" style="width: 90%"></div></div>
        </div>

        <div class="skill-card" data-category="meca" data-aos="fade-up" data-aos-delay="250">
          <div class="skill-icon"><i class="fab fa-python"></i></div>
          <div class="skill-name">Python (NumPy)</div>
          <div class="skill-level">Interm√©diaire</div>
          <div class="skill-bar-container"><div class="skill-bar" style="width: 50%"></div></div>
        </div>

        <div class="skill-card" data-category="auto" data-aos="fade-up" data-aos-delay="300">
          <div class="skill-icon"><i class="fas fa-microchip"></i></div>
          <div class="skill-name">B&R Automation Studio</div>
          <div class="skill-level">Interm√©diaire</div>
          <div class="skill-bar-container"><div class="skill-bar" style="width: 65%"></div></div>
        </div>

        <div class="skill-card" data-category="additional" data-aos="fade-up" data-aos-delay="350">
          <div class="skill-icon"><i class="fas fa-file-alt"></i></div>
          <div class="skill-name">LaTeX</div>
          <div class="skill-level">Avanc√©</div>
          <div class="skill-bar-container"><div class="skill-bar" style="width: 90%"></div></div>
        </div>

        <div class="skill-card" data-category="additional" data-aos="fade-up" data-aos-delay="400">
          <div class="skill-icon"><i class="fas fa-file-excel"></i></div>
          <div class="skill-name">Microsoft Office</div>
          <div class="skill-level">Avanc√©</div>
          <div class="skill-bar-container"><div class="skill-bar" style="width: 90%"></div></div>
        </div>

      </div>
    </div>
  </section>

  <!-- ==================== LANGUES ==================== -->
  <section class="langues" id="langues">
    <div class="section-container">
      <div class="section-line" data-aos="fade-up"></div>
      <h2 class="section-title" data-aos="fade-up" data-aos-delay="50"><span>Langues</span></h2>
      <p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">Mes comp√©tences linguistiques</p>
      <div class="langues-grid">

        <div class="langue-card" data-aos="fade-up" data-aos-delay="150">
          <div class="langue-flag">üá¨üáß</div>
          <div class="langue-info">
            <div class="langue-name">Anglais</div>
            <div class="langue-level">C1 ‚Äî IELTS</div>
            <div class="langue-bar-container"><div class="langue-bar" style="width: 85%"></div></div>
          </div>
        </div>

        <div class="langue-card" data-aos="fade-up" data-aos-delay="200">
          <div class="langue-flag">üá´üá∑</div>
          <div class="langue-info">
            <div class="langue-name">Fran√ßais</div>
            <div class="langue-level">C1 ‚Äî TCF</div>
            <div class="langue-bar-container"><div class="langue-bar" style="width: 85%"></div></div>
          </div>
        </div>

        <div class="langue-card" data-aos="fade-up" data-aos-delay="250">
          <div class="langue-flag">üá©üáø</div>
          <div class="langue-info">
            <div class="langue-name">Arabe</div>
            <div class="langue-level">Langue maternelle</div>
            <div class="langue-bar-container"><div class="langue-bar" style="width: 100%"></div></div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- ==================== TIMELINE / PARCOURS ==================== -->
  <section class="timeline-section" id="parcours">
    <div class="section-container">
      <div class="section-line" data-aos="fade-up"></div>
      <h2 class="section-title" data-aos="fade-up" data-aos-delay="50">Mon <span>Parcours</span></h2>
      <p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">Les √©tapes cl√©s de ma formation</p>

      <div class="timeline">

        <!-- Kielce -->
        <div class="timeline-item" data-aos="fade-right" data-aos-delay="150">
          <div class="timeline-dot"></div>
          <div class="timeline-card">
            <img src="ville1.png" alt="Kielce, Pologne" class="timeline-card-image">
            <div class="timeline-card-body">
              <div class="timeline-year">2023 ‚Äî 2025</div>
              <h3 class="timeline-card-title">Kielce University of Technology</h3>
              <p class="timeline-card-text">
                Deux ann√©es d'√©tudes en anglais au sein de Kielce University of Technology en Pologne, o√π j'ai acquis des bases solides en g√©nie m√©canique. J'ai eu l'opportunit√© de travailler sur des machines CNC et de d√©velopper une compr√©hension approfondie des proc√©d√©s de fabrication. Cette exp√©rience internationale m'a permis de renforcer mon niveau d'anglais et de m'adapter √† un environnement multiculturel.
              </p>
            </div>
          </div>
        </div>

        <!-- Poitiers -->
        <div class="timeline-item" data-aos="fade-left" data-aos-delay="200">
          <div class="timeline-dot"></div>
          <div class="timeline-card">
            <img src="ville2.png" alt="Poitiers, France" class="timeline-card-image">
            <div class="timeline-card-body">
              <div class="timeline-year">2025 ‚Äî Pr√©sent</div>
              <h3 class="timeline-card-title">Universit√© de Poitiers</h3>
              <p class="timeline-card-text">
                En int√©grant l'Universit√© de Poitiers en L3, j'ai eu la chance de travailler sur de nombreux projets de conception m√©canique en travaux pratiques, ce qui a consid√©rablement renforc√© ma ma√Ætrise de SolidWorks. J'ai √©galement d√©couvert l'automatisme avec B&R Automation Studio et acquis de bonnes bases en programmation ST. Ces projets concrets m'ont permis de d√©velopper une approche rigoureuse de l'ing√©nierie m√©canique.
              </p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- ==================== PROJETS ==================== -->
  <section class="projets" id="projets">
    <div class="section-container">
      <div class="section-line" data-aos="fade-up"></div>
      <h2 class="section-title" data-aos="fade-up" data-aos-delay="50">Galerie de <span>Projets</span></h2>
      <p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">Mes r√©alisations en bureau d'√©tudes</p>

      <div class="projets-filters" data-aos="fade-up" data-aos-delay="150">
        <button class="skill-cat-btn active" data-filter="all">Tous les projets</button>
        <button class="skill-cat-btn" data-filter="meca">G√©nie M√©canique</button>
        <button class="skill-cat-btn" data-filter="auto">Automatisme</button>
      </div>

      <div class="projets-grid" id="projetsGrid">

        <!-- ====== PROJET MECA : RIDOIR HYDRAULIQUE ====== -->
        <div class="projet-card clickable" data-type="meca" onclick="openModal('modalRidoir')" data-aos="fade-up" data-aos-delay="200">
          <span class="projet-badge">L3</span>
          <div class="projet-image"><img src="ridoir_theme.png" alt="Ridoir hydraulique" style="width:100%;height:100%;object-fit:contain;background:#f5f5f5;padding:0.5rem;"></div>
          <div class="projet-body">
            <div class="projet-title">Ridoir hydraulique ‚Äî Re-conception m√©cano-soud√©e</div>
            <p class="projet-desc">Re-conception et optimisation d'un ridoir m√©cano-soud√© : simplification, simulation √©l√©ments finis et all√®gement de 32%.</p>
            <div class="projet-tags">
              <span class="projet-tag">SolidWorks</span>
              <span class="projet-tag">Simulation FEA</span>
              <span class="projet-tag">Conception</span>
            </div>
          </div>
        </div>

        <!-- ====== PROJET MECA : MULTIPLICATEUR DE PRESSION ====== -->
        <div class="projet-card clickable" data-type="meca" onclick="openModal('modalMulti')" data-aos="fade-up" data-aos-delay="250">
          <span class="projet-badge">L3</span>
          <div class="projet-image"><img src="multi_plan_ensemble.png" alt="Multiplicateur de pression" style="width:100%;height:100%;object-fit:contain;background:#f5f5f5;padding:0.5rem;"></div>
          <div class="projet-body">
            <div class="projet-title">Multiplicateur de pression hydraulique</div>
            <p class="projet-desc">Conception et optimisation de pi√®ces de fonderie aluminium pour v√©rin hydraulique : t√™te de v√©rin et embase, valid√©es par simulation FEA.</p>
            <div class="projet-tags">
              <span class="projet-tag">SolidWorks</span>
              <span class="projet-tag">Fonderie</span>
              <span class="projet-tag">Simulation FEA</span>
            </div>
          </div>
        </div>

        <!-- ====== PROJET MECA : MONTAGE D'USINAGE ====== -->
        <div class="projet-card clickable" data-type="meca" onclick="openModal('modalUsinage')" data-aos="fade-up" data-aos-delay="300">
          <span class="projet-badge">L3</span>
          <div class="projet-image"><img src="usinage_theme.png" alt="Montage d'usinage" style="width:100%;height:100%;object-fit:contain;background:#f5f5f5;padding:0.5rem;"></div>
          <div class="projet-body">
            <div class="projet-title">Montage d'usinage ‚Äî Per√ßage de pi√®ces cylindriques</div>
            <p class="projet-desc">Conception d'un montage d'usinage isostatique pour le per√ßage de pi√®ces cylindriques sur perceuse √† colonne.</p>
            <div class="projet-tags">
              <span class="projet-tag">SolidWorks</span>
              <span class="projet-tag">Isostatisme</span>
              <span class="projet-tag">Conception</span>
            </div>
          </div>
        </div>

        <!-- ====== PROJET MECA : PROGRAMMATION CNC ====== -->
        <div class="projet-card clickable" data-type="meca" onclick="openModal('modalCNC')" data-aos="fade-up" data-aos-delay="350">
          <span class="projet-badge">L2</span>
          <div class="projet-image"><img src="cnc_3d_iso.png" alt="Programmation CNC Heidenhain" style="width:100%;height:100%;object-fit:cover;"></div>
          <div class="projet-body">
            <div class="projet-title">Programmation CNC ‚Äî Heidenhain iTNC 530</div>
            <p class="projet-desc">D√©veloppement d'un programme d'usinage complet pour une pi√®ce 150√ó100 mm : contournage, poches, rainures et per√ßage.</p>
            <div class="projet-tags">
              <span class="projet-tag">SolidWorks</span>
              <span class="projet-tag">Heidenhain</span>
              <span class="projet-tag">CNC</span>
            </div>
          </div>
        </div>

        <!-- ====== PROJET MECA : √Ä VENIR ====== -->
        <div class="projet-card" data-type="meca" data-aos="fade-up" data-aos-delay="400">
          <div class="projet-image" style="display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.03);"><i class="fas fa-cogs" style="font-size:3rem;color:rgba(255,255,255,0.12);"></i></div>
          <div class="projet-body">
            <div class="projet-title">Projet √† venir</div>
            <p class="projet-desc">Un nouveau projet de g√©nie m√©canique sera ajout√© prochainement.</p>
            <div class="projet-tags">
              <span class="projet-tag">G√©nie M√©canique</span>
            </div>
          </div>
        </div>

        <!-- ====== PROJET AUTOMATISME : POTEYAGE ====== -->
        <div class="projet-card clickable" data-type="auto" onclick="openModal('modalPoteyage')" data-aos="fade-up" data-aos-delay="200">
          <span class="projet-badge">L3</span>
          <div class="projet-image"><img src="poteyage_thumb.png" alt="Machine de poteyage" style="width:100%;height:100%;object-fit:cover;"></div>
          <div class="projet-body">
            <div class="projet-title">Machine de poteyage sur portique cart√©sien</div>
            <p class="projet-desc">Programmation du cycle automatis√© d'une machine de poteyage pour le d√©p√¥t de carbone sur demi-moules en verre, avec balayage en zigzag via portique cart√©sien.</p>
            <div class="projet-tags">
              <span class="projet-tag">B&amp;R Automation Studio</span>
              <span class="projet-tag">Structured Text</span>
              <span class="projet-tag">GRAFCET</span>
              <span class="projet-tag">Automatisme</span>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- ==================== MODAL POTEYAGE ==================== -->
  <div class="projet-modal" id="modalPoteyage">
    <div class="modal-overlay" onclick="closeModal()"></div>
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal()"><i class="fas fa-times"></i></button>

      <div class="modal-header">
        <h2>Machine de poteyage sur portique cart√©sien</h2>
        <div class="modal-tags">
          <span class="projet-tag">B&amp;R Automation Studio</span>
          <span class="projet-tag">Structured Text</span>
          <span class="projet-tag">GRAFCET</span>
          <span class="projet-tag">Automatisme</span>
        </div>
      </div>

      <!-- √âNONC√â DU PROJET -->
      <div class="modal-section">
        <h3><i class="fas fa-file-pdf"></i> √ânonc√© du projet</h3>
        <div style="border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.06);margin-bottom:0.5rem;">
          <iframe src="poteyage_sujet.pdf" style="width:100%;height:600px;border:none;background:#1a1a24;"></iframe>
        </div>
        <p style="margin-top:0.75rem;font-size:0.85rem;color:#707070;">
          <a href="poteyage_sujet.pdf" target="_blank" style="color:#60a5fa;"><i class="fas fa-download" style="margin-right:0.4rem;"></i>T√©l√©charger le sujet (PDF)</a>
        </p>
      </div>

      <!-- DESCRIPTION -->
      <div class="modal-section">
        <h3><i class="fas fa-info-circle"></i> Description du projet</h3>
        <p>
          Ce projet consistait √† d√©velopper et programmer le cycle automatis√© d'une machine de poteyage utilis√©e pour d√©poser une couche de carbone sur des demi-moules en verre afin de faciliter le d√©moulage. Le syst√®me repose sur un portique cart√©sien motoris√© par des moteurs pas-√†-pas permettant de d√©placer les moules au-dessus d'un br√ªleur fixe selon une strat√©gie de balayage d√©finie.
        </p>
        <p style="margin-top: 1rem;">
          Le travail a consist√© √† d√©finir les param√®tres fonctionnels du cycle, concevoir le GRAFCET de commande, programmer le cycle en Structured Text puis valider le fonctionnement en simulation et sur installation r√©elle.
        </p>
      </div>

      <!-- FONCTION -->
      <div class="modal-section">
        <h3><i class="fas fa-cog"></i> Fonction du programme d√©velopp√©</h3>
        <p style="margin-bottom: 0.75rem;">Le programme automatise enti√®rement le cycle de poteyage :</p>
        <ul>
          <li>Initialisation et homing des axes X et Y</li>
          <li>Positionnement au point de d√©part (deltaX, deltaY)</li>
          <li>Balayage en zigzag de la zone de traitement</li>
          <li>Synchronisation des d√©placements X et Y avec alternance mont√©e/descente</li>
          <li>Gestion de la flamme (allumage au d√©but, extinction en fin de cycle)</li>
          <li>Retour automatique en position initiale</li>
        </ul>
        <p style="margin-top: 0.75rem;">Le code g√®re les boucles de balayage permettant d'alterner les d√©placements verticaux pendant l'avancement horizontal afin d'assurer une couverture compl√®te et homog√®ne de la surface.</p>
      </div>

      <!-- CODE -->
      <div class="modal-section">
        <h3><i class="fas fa-code"></i> Code source (Structured Text)</h3>
        <div class="code-tabs">
          <button class="code-tab active" onclick="switchCodeTab(this, 'poteyage-main')">Programme (Main.st)</button>
          <button class="code-tab" onclick="switchCodeTab(this, 'poteyage-var')">Variables locales</button>
          <button class="code-tab" onclick="switchCodeTab(this, 'poteyage-gvar')">Variables globales</button>
          <button class="code-tab" onclick="switchCodeTab(this, 'poteyage-typ')">Types globaux</button>
        </div>

        <div class="code-panel active" id="poteyage-main">
          <pre>PROGRAM _INIT
    // Initialisation des variables sans valeur par defaut
    aNom := 10.0;  // Acceleration nominale [mm/s^2]
    vNom := 20.0;  // Vitesse nominale [mm/s]

    // Initialisation des parametres du cycle de poteyage
    a := 250.0;     // Longueur du moule [mm]
    b := 120.0;     // Largeur du moule [mm]
    pas := 30.0;    // Pas de balayage [mm]
    deltaX := 10.0; // Decalage initial axe X [mm]
    deltaY := 10.0; // Decalage initial axe Y [mm]

    // Initialisation des positions et compteur
    posX := 0.0;
    posY := 0.0;
    i := 0;

    // Initialisation variables detection front montant
    ihm_start_prev := FALSE;

    // Initialisation flamme
    Flamme := FALSE;
END_PROGRAM

PROGRAM _CYCLIC
    // ============================================
    // LEGENDE DES COMMANDES ET INFORMATIONS :
    // COMMANDES (Cmd_X, Cmd_Y) :
    //   BpOn = Allumer/activer l'axe (mise sous tension)
    //   BpHome = Demander homing (recherche de l'origine)
    //   MoveAbsolute.Acc = Definir l'acceleration du mouvement
    //   MoveAbsolute.Vit = Definir la vitesse du mouvement
    //   MoveAbsolute.Pos = Definir la position destination
    //   MoveAbsolute.BpMove = Demarrer le mouvement
    // INFORMATIONS (Info_X, Info_Y) :
    //   PowerOn = L'axe est alimente/sous tension
    //   IsHomed = L'axe a termine le homing
    //   Standstill = L'axe est arrete (arrive a destination)
    // ============================================

    // Logique normale du grafcet
    CASE etat OF
        0: // ETAT 0 : Attente bouton ON
            IF ihm_on THEN
                etat := 1;
                Cmd_X.BpOn := TRUE;
                Cmd_Y.BpOn := TRUE;
            END_IF

        1: // ETAT 1 : Attente alimentation des axes
            IF Info_X.PowerOn AND Info_Y.PowerOn THEN
                etat := 2;
            END_IF

        2: // ETAT 2 : Attente bouton HOME
            IF ihm_home THEN
                ihm_home := FALSE;
                Cmd_X.BpHome := TRUE;
                Cmd_Y.BpHome := TRUE;
                etat := 3;
            END_IF

        3: // ETAT 3 : Attente fin du homing
            IF Info_X.Standstill AND Info_Y.Standstill
               AND Info_X.IsHomed AND Info_Y.IsHomed THEN
                posX := 0.0;
                posY := 0.0;
                etat := 4;
            END_IF

        4: // ETAT 4 : Attente bouton START
            Cmd_X.MoveAbsolute.BpMove := FALSE;
            Cmd_Y.MoveAbsolute.BpMove := FALSE;

            IF NOT ihm_on THEN
                etat := 5;
                Cmd_X.BpOn := FALSE;
                Cmd_Y.BpOn := FALSE;
            ELSIF ihm_start AND NOT ihm_start_prev THEN
                IF posX = 0.0 AND posY = 0.0 THEN
                    // Lancer le cycle de poteyage
                    Flamme := TRUE;
                    posX := deltaX;
                    posY := deltaY;
                    Cmd_X.MoveAbsolute.Acc := aNom;
                    Cmd_X.MoveAbsolute.Vit := vNom;
                    Cmd_X.MoveAbsolute.Pos := posX;
                    Cmd_X.MoveAbsolute.BpMove := TRUE;
                    Cmd_Y.MoveAbsolute.Acc := aNom;
                    Cmd_Y.MoveAbsolute.Vit := vNom;
                    Cmd_Y.MoveAbsolute.Pos := posY;
                    Cmd_Y.MoveAbsolute.BpMove := TRUE;
                    etat := 10;
                ELSE
                    // Retour a l'origine
                    Flamme := FALSE;
                    posX := 0.0;
                    posY := 0.0;
                    Cmd_X.MoveAbsolute.Pos := posX;
                    Cmd_X.MoveAbsolute.BpMove := TRUE;
                    Cmd_Y.MoveAbsolute.Pos := posY;
                    Cmd_Y.MoveAbsolute.BpMove := TRUE;
                    etat := 4;
                END_IF
            END_IF
            ihm_start_prev := ihm_start;

        5: // ETAT 5 : Arret/Redemarrage des axes
            IF NOT Info_X.PowerOn AND NOT Info_Y.PowerOn THEN
                IF ihm_on THEN
                    etat := 1;
                    Cmd_X.BpOn := TRUE;
                    Cmd_Y.BpOn := TRUE;
                END_IF
            ELSIF Info_X.PowerOn AND Info_Y.PowerOn THEN
                etat := 4;
            END_IF

        10: // ETAT 10 : Arrivee position de depart (10,10)
            IF Info_X.Standstill AND Info_Y.Standstill THEN
                Cmd_X.MoveAbsolute.BpMove := FALSE;
                Cmd_Y.MoveAbsolute.BpMove := FALSE;
                posY := deltaY + a;  // 10 + 250 = 260mm
                Cmd_Y.MoveAbsolute.Pos := posY;
                Cmd_Y.MoveAbsolute.BpMove := TRUE;
                etat := 11;
            END_IF

        11: // ETAT 11 : Y monte vers 260mm
            IF Info_Y.Standstill THEN
                Cmd_Y.MoveAbsolute.BpMove := FALSE;
                IF posX &gt;= (deltaX + 3.0 * b) THEN
                    // Fin balayage : Y descend a 10mm
                    posY := deltaY;
                    Cmd_Y.MoveAbsolute.Pos := posY;
                    Cmd_Y.MoveAbsolute.BpMove := TRUE;
                    etat := 13;
                ELSE
                    // X avance de +30mm
                    posX := posX + pas;
                    Cmd_X.MoveAbsolute.Pos := posX;
                    Cmd_X.MoveAbsolute.BpMove := TRUE;
                    etat := 12;
                END_IF
            END_IF

        12: // ETAT 12 : X se deplace vers la droite
            IF Info_X.Standstill THEN
                Cmd_X.MoveAbsolute.BpMove := FALSE;
                IF posX &gt;= (deltaX + 3.0 * b) THEN
                    IF posY &gt;= (deltaY + a - 1.0) THEN
                        posY := deltaY;
                        Cmd_Y.MoveAbsolute.Pos := posY;
                        Cmd_Y.MoveAbsolute.BpMove := TRUE;
                        etat := 13;
                    ELSE
                        etat := 14;
                    END_IF
                ELSE
                    IF posY &gt;= (deltaY + a - 1.0) THEN
                        posY := deltaY;
                        Cmd_Y.MoveAbsolute.Pos := posY;
                        Cmd_Y.MoveAbsolute.BpMove := TRUE;
                        etat := 13;
                    ELSE
                        posY := deltaY + a;
                        Cmd_Y.MoveAbsolute.Pos := posY;
                        Cmd_Y.MoveAbsolute.BpMove := TRUE;
                        etat := 11;
                    END_IF
                END_IF
            END_IF

        13: // ETAT 13 : Y descend vers 10mm
            IF Info_Y.Standstill THEN
                Cmd_Y.MoveAbsolute.BpMove := FALSE;
                IF posX &gt;= (deltaX + 3.0 * b) THEN
                    etat := 14;
                ELSE
                    posX := posX + pas;
                    Cmd_X.MoveAbsolute.Pos := posX;
                    Cmd_X.MoveAbsolute.BpMove := TRUE;
                    etat := 12;
                END_IF
            END_IF

        14: // ETAT 14 : Fin du balayage
            Cmd_X.MoveAbsolute.BpMove := FALSE;
            Cmd_Y.MoveAbsolute.BpMove := FALSE;
            etat := 4;
    END_CASE;

END_PROGRAM</pre>
        </div>

        <div class="code-panel" id="poteyage-var">
          <pre>(* ============================================ *)
(* PARAMETRES DE MOUVEMENT                     *)
(* ============================================ *)
VAR
    aNom : REAL;           (* Acceleration nominale en mm/s¬≤ *)
    vNom : REAL;           (* Vitesse nominale en mm/s *)
    dest : REAL;           (* Destination sur x [mm] *)

    (* BOUTONS DE L'INTERFACE (ENTREES) *)
    ihm_on : BOOL;         (* Bouton ON : demarrage machine *)
    ihm_start : BOOL;      (* Bouton START : depart du cycle *)
    ihm_home : BOOL;       (* Bouton HOME : prise d'origine *)

    (* ETAT DU GRAPHCET *)
    etat : USINT;          (* Numero de l'etat actuel *)

    (* DETECTION FRONT MONTANT *)
    ihm_start_prev : BOOL; (* Memoire etat precedent START *)

    (* GESTION FLAMME *)
    Flamme : BOOL;         (* TRUE = allumee, FALSE = eteinte *)

    (* PARAMETRES DU CYCLE *)
    a : REAL;              (* Longueur du moule [mm] *)
    b : REAL;              (* Largeur du moule [mm] *)
    pas : REAL;            (* Pas de balayage [mm] *)
    deltaX : REAL;         (* Decalage initial axe X [mm] *)
    deltaY : REAL;         (* Decalage initial axe Y [mm] *)

    (* VARIABLES DE POSITION *)
    posX : REAL;           (* Position courante axe X [mm] *)
    posY : REAL;           (* Position courante axe Y [mm] *)
    i : USINT;             (* Compteur de cycles *)
END_VAR</pre>
        </div>

        <div class="code-panel" id="poteyage-gvar">
          <pre>(* ============================================ *)
(* Variables globales du projet charlyRobot_sdc *)
(* ============================================ *)
VAR
    gAxis04 : ACP10AXIS_typ := (0);
    gAxis04_HW : SdcHwCfg_typ := (0);
    gAxis04_DrvIf : SdcDrvIf16_typ := (0);
    gAxis04_EncIf1 : SdcEncIf16_typ := (0);
    gAxis04_DiDoIf : SdcDiDoIf_typ := (0);
    gAxis04_MotorStep0 : INT := 0;

    gAxis05 : ACP10AXIS_typ := (0);
    gAxis05_HW : SdcHwCfg_typ := (0);
    gAxis05_DrvIf : SdcDrvIf16_typ := (0);
    gAxis05_EncIf1 : SdcEncIf16_typ := (0);
    gAxis05_DiDoIf : SdcDiDoIf_typ := (0);
    gAxis05_MotorStep0 : INT := 0;

    gAxis06 : ACP10AXIS_typ := (0);
    gAxis06_HW : SdcHwCfg_typ := (0);
    gAxis06_DrvIf : SdcDrvIf16_typ := (0);
    gAxis06_EncIf1 : SdcEncIf16_typ := (0);
    gAxis06_DiDoIf : SdcDiDoIf_typ := (0);
    gAxis06_MotorStep0 : INT := 0;

    (* Structures de commande et d'information des axes *)
    Cmd_X : RbTrAxeCmd_typ;
    Cmd_Y : RbTrAxeCmd_typ;
    Cmd_Z : RbTrAxeCmd_typ;
    Info_X : RbTrAxeInfo_typ;
    Info_Y : RbTrAxeInfo_typ;
    Info_Z : RbTrAxeInfo_typ;
END_VAR</pre>
        </div>

        <div class="code-panel" id="poteyage-typ">
          <pre>(* ============================================ *)
(* Types globaux du projet charlyRobot_sdc     *)
(* ============================================ *)
TYPE
    dessin_state_enum :
        (
        dessin_DORMANT,          (* Attente init axes et BpOn *)
        dessin_POWER_ON,         (* Demarrage des axes *)
        dessin_POWER_OFF,        (* Arret des axes *)
        dessin_HOME,             (* Prises d'origines *)
        dessin_MOVEUP_FROM_H,
        dessin_MOVEUP_FROM_H1,
        dessin_USER_ACTION,      (* Attente choix action *)
        dessin_LOAD,             (* Chargement fichier dessin *)
        dessin_ENTER_MODE_ABS,   (* Mode pilotage absolu *)
        dessin_EXIT_MODE_ABS,    (* Sortie mode absolu *)
        dessin_USER_START,       (* Attente depart trace *)
        dessin_MOVEABS,          (* Deplacement vers premier point *)
        dessin_MOVEDOWN,         (* Descente outil *)
        dessin_MOVESPLINE,       (* Trace ligne *)
        dessin_MOVESPLINE1,      (* Trace ligne *)
        dessin_MOVEUP,           (* Remontee outil *)
        dessin_EXIT_MODE_CYCLIC,
        dessin_EXIT_MODE_CYCLIC1,
        dessin_EXIT_MODE_ABS_TO_UA,
        dessin_MOVEREF,
        dessin_MOVEREF1,
        dessin_MOVEREF2,
        dessin_ERROR,
        dessin_RESETTING
        );

    DefSpline_state_enum :
        (
        defSpl_DORMANT,
        defSpl_ENABLING,
        defSpl_EXECUTING,
        defSpl_DONE,
        defSpl_ERROR,
        defSpl_RESETTING
        );
END_TYPE</pre>
        </div>
      </div>

      <!-- CHRONOGRAMME -->
      <div class="modal-section">
        <h3><i class="fas fa-chart-line"></i> Analyse des chronogrammes</h3>
        <div class="chrono-container">
          <img src="poteyage_chrono.png" alt="Chronogrammes du cycle de poteyage">
        </div>
        <p>Les chronogrammes montrent un fonctionnement coh√©rent du cycle :</p>
        <ul>
          <li><strong>Vitesse X</strong> ‚Äî cycles acc√©l√©ration / vitesse constante / d√©c√©l√©ration correspondant aux d√©placements horizontaux</li>
          <li><strong>Vitesse Y</strong> ‚Äî alternance mont√©e / arr√™t / descente correspondant au balayage vertical en zigzag</li>
        </ul>
        <p style="margin-top: 0.75rem;">Les courbes confirment que la trajectoire respecte le pas de balayage et la strat√©gie programm√©e.</p>
      </div>

      <!-- VIDEO -->
      <div class="modal-section">
        <h3><i class="fas fa-video"></i> Validation exp√©rimentale</h3>
        <div class="video-container">
          <video controls preload="metadata">
            <source src="poteyage_video.mp4" type="video/mp4">
            Votre navigateur ne supporte pas la lecture vid√©o.
          </video>
        </div>
        <p>Le bon fonctionnement du syst√®me a √©t√© v√©rifi√© exp√©rimentalement en rempla√ßant le br√ªleur par un feutre et en utilisant une feuille blanche pour tracer la trajectoire. Le trac√© obtenu confirme que le d√©placement r√©el correspond √† la trajectoire th√©orique programm√©e et valide le cycle automatis√©.</p>
      </div>

    </div>
  </div>

  <!-- ==================== MODAL RIDOIR ==================== -->
  <div class="projet-modal" id="modalRidoir">
    <div class="modal-overlay" onclick="closeModal()"></div>
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal()"><i class="fas fa-times"></i></button>

      <div class="modal-header">
        <h2>Ridoir hydraulique ‚Äî Re-conception et optimisation m√©cano-soud√©e</h2>
        <div class="modal-tags">
          <span class="projet-tag">SolidWorks</span>
          <span class="projet-tag">Simulation FEA</span>
          <span class="projet-tag">Conception m√©cano-soud√©e</span>
          <span class="projet-tag">Optimisation</span>
        </div>
      </div>

      <!-- √âNONC√â DU PROJET -->
      <div class="modal-section">
        <h3><i class="fas fa-file-pdf"></i> √ânonc√© du projet</h3>
        <div style="border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.06);margin-bottom:0.5rem;">
          <iframe src="ridoir_sujet.pdf" style="width:100%;height:600px;border:none;background:#1a1a24;"></iframe>
        </div>
        <p style="margin-top:0.75rem;font-size:0.85rem;color:#707070;">
          <a href="ridoir_sujet.pdf" target="_blank" style="color:#60a5fa;"><i class="fas fa-download" style="margin-right:0.4rem;"></i>T√©l√©charger le sujet (PDF)</a>
        </p>
      </div>

      <!-- OBJECTIF -->
      <div class="modal-section">
        <h3><i class="fas fa-bullseye"></i> Objectif du projet</h3>
        <p>L'objectif du projet √©tait de reconcevoir une pi√®ce de ridoir initialement complexe √† fabriquer afin de proposer une solution m√©cano-soud√©e plus simple, plus l√©g√®re et adapt√©e √† la fabrication industrielle, tout en garantissant sa r√©sistance m√©canique par simulation.</p>
      </div>

      <!-- ANALYSE INITIALE -->
      <div class="modal-section">
        <h3><i class="fas fa-search"></i> Analyse et mod√©lisation initiale</h3>
        <p>Le travail a commenc√© par l'analyse compl√®te d'un plan technique afin de comprendre la g√©om√©trie, les fonctions m√©caniques et les contraintes de la pi√®ce. Une mod√©lisation 3D compl√®te a ensuite √©t√© r√©alis√©e sous SolidWorks.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="ridoir_3d_initial.png" alt="Mod√®le 3D de la pi√®ce initiale">
            <div class="modal-img-caption">Mod√®le 3D de la pi√®ce initiale</div>
          </div>
        </div>
        <div class="modal-img-grid single" style="margin-top:1rem;">
          <div class="modal-img-container">
            <img src="ridoir_plan.png" alt="Plan technique avec coupes et vues" style="width:100%;">
            <div class="modal-img-caption">Plan technique ‚Äî coupes et vues</div>
          </div>
        </div>
      </div>

      <!-- NOUVELLE CONCEPTION -->
      <div class="modal-section">
        <h3><i class="fas fa-pencil-ruler"></i> Nouvelle conception m√©cano-soud√©e</h3>
        <p>La pi√®ce a ensuite √©t√© repens√©e dans une logique de fabrication m√©cano-soud√©e. La conception a √©t√© simplifi√©e en d√©composant la pi√®ce en plusieurs √©l√©ments simples √† usiner puis √† assembler par soudage. Une nouvelle architecture a √©t√© propos√©e afin de supprimer certaines formes complexes d'usinage.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="ridoir_new_design.png" alt="Nouvelle conception m√©cano-soud√©e">
            <div class="modal-img-caption">Vue 3D de la nouvelle conception m√©cano-soud√©e</div>
          </div>
        </div>
      </div>

      <!-- SOUDURES -->
      <div class="modal-section">
        <h3><i class="fas fa-fire"></i> D√©finition des zones de soudure</h3>
        <p>L'assemblage soud√© a ensuite √©t√© d√©fini en pr√©cisant les zones de cordons de soudure afin d'assurer la rigidit√© et la continuit√© m√©canique de la pi√®ce.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="ridoir_soudures.png" alt="Zones de soudure">
            <div class="modal-img-caption">Position des cordons de soudure (zones rouges)</div>
          </div>
        </div>
      </div>

      <!-- SIMULATION -->
      <div class="modal-section">
        <h3><i class="fas fa-chart-area"></i> Validation par simulation √©l√©ments finis</h3>
        <p>Une validation m√©canique a √©t√© r√©alis√©e par simulation √©l√©ments finis afin de v√©rifier la tenue de la pi√®ce sous charge. Cette analyse a permis d'identifier les zones critiques, principalement autour des trous de fixation.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="ridoir_simulation.png" alt="Simulation Von Mises">
            <div class="modal-img-caption">Simulation contraintes Von Mises ‚Äî zone critique visible</div>
          </div>
        </div>
      </div>

      <!-- OPTIMISATION -->
      <div class="modal-section">
        <h3><i class="fas fa-weight-hanging"></i> Optimisation de la masse</h3>
        <p>La pi√®ce a ensuite √©t√© optimis√©e afin de r√©duire sa masse tout en conservant ses performances m√©caniques. Plusieurs modifications g√©om√©triques ont permis d'obtenir un all√®gement significatif.</p>
        <div class="modal-img-grid" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="ridoir_masse_avant.png" alt="Masse pi√®ce initiale">
            <div class="modal-img-caption">Pi√®ce initiale ‚Äî 722,71 g</div>
          </div>
          <div class="modal-img-container">
            <img src="ridoir_masse_apres.png" alt="Masse pi√®ce optimis√©e">
            <div class="modal-img-caption">Pi√®ce optimis√©e ‚Äî 491,02 g</div>
          </div>
        </div>
        <div class="modal-result-box">
          <div class="result-row">
            <span>Masse initiale</span>
            <span>~723 g</span>
          </div>
          <div class="result-row">
            <span>Masse optimis√©e</span>
            <span>~491 g</span>
          </div>
          <div class="result-row highlight">
            <span>Gain de masse</span>
            <span>~232 g (‚àí32%)</span>
          </div>
        </div>
      </div>

      <!-- VALIDATION PI√àCE OPTIMIS√âE -->
      <div class="modal-section">
        <h3><i class="fas fa-chart-area"></i> Validation de la pi√®ce optimis√©e</h3>
        <p>Une seconde simulation √©l√©ments finis a √©t√© r√©alis√©e sur la pi√®ce optimis√©e afin de v√©rifier que l'all√®gement n'a pas compromis sa tenue m√©canique. Les r√©sultats montrent que la contrainte maximale de Von Mises atteint environ <strong>296 MPa</strong>, tr√®s proche de la limite d'√©lasticit√© du mat√©riau (<strong>283 MPa</strong>). La pi√®ce r√©siste donc aux charges appliqu√©es, mais se situe √† la limite de sa capacit√© ‚Äî ce qui confirme que l'optimisation a √©t√© pouss√©e au maximum du potentiel du mat√©riau.</p>
        <p style="margin-top:0.75rem;">Les zones critiques restent localis√©es autour des trous de fixation, o√π les concentrations de contraintes sont les plus √©lev√©es en raison de la g√©om√©trie.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="ridoir_simulation_opti.png" alt="Simulation Von Mises pi√®ce optimis√©e">
            <div class="modal-img-caption">Simulation Von Mises ‚Äî pi√®ce optimis√©e (contrainte max ‚âà 296 MPa, limite √©lastique ‚âà 283 MPa)</div>
          </div>
        </div>
      </div>

      <!-- R√âSULTAT FINAL -->
      <div class="modal-section">
        <h3><i class="fas fa-check-circle"></i> R√©sultat final</h3>
        <p>Le projet a permis de concevoir une pi√®ce m√©cano-soud√©e optimis√©e, plus l√©g√®re et adapt√©e √† la fabrication industrielle, tout en conservant une tenue m√©canique valid√©e par simulation.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="ridoir_final.png" alt="Pi√®ce finale optimis√©e">
            <div class="modal-img-caption">Vue 3D de la pi√®ce finale optimis√©e</div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- ==================== MODAL CNC ==================== -->
  <div class="projet-modal" id="modalCNC">
    <div class="modal-overlay" onclick="closeModal()"></div>
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal()"><i class="fas fa-times"></i></button>

      <div class="modal-header">
        <h2>Programmation CNC ‚Äî Usinage complet sur Heidenhain iTNC 530</h2>
        <div class="modal-tags">
          <span class="projet-tag">SolidWorks</span>
          <span class="projet-tag">Heidenhain iTNC 530</span>
          <span class="projet-tag">Klartext</span>
          <span class="projet-tag">CNC</span>
          <span class="projet-tag">CAD/CAM</span>
        </div>
      </div>

      <!-- OBJECTIF -->
      <div class="modal-section">
        <h3><i class="fas fa-bullseye"></i> Objectif du projet</h3>
        <p>Ce projet de programmation CNC a consist√© √† d√©velopper un programme d'usinage complet pour une pi√®ce de 150√ó100 mm en utilisant le syst√®me Heidenhain iTNC 530. Apr√®s la mod√©lisation 2D/3D sous SolidWorks, quatre outils ont √©t√© s√©lectionn√©s pour r√©aliser des op√©rations de fraisage (contour, poches, rainures) et de per√ßage. Les param√®tres technologiques (vitesse de coupe, avance, profondeur de passe) ont √©t√© optimis√©s pour chaque outil, et le programme g√©n√©r√© a √©t√© simul√© avec succ√®s.</p>
      </div>

      <!-- MOD√âLISATION 3D -->
      <div class="modal-section">
        <h3><i class="fas fa-cube"></i> Mod√©lisation 3D sous SolidWorks</h3>
        <p>La premi√®re √©tape a consist√© √† mod√©liser la pi√®ce compl√®te en 3D sous SolidWorks afin de d√©finir pr√©cis√©ment toutes les g√©om√©tries √† usiner : le contour ext√©rieur avec ses rayons et cong√©s, les poches circulaires et rectangulaires, les rainures inclin√©es et crois√©es, ainsi que les per√ßages.</p>
        <div class="modal-img-grid" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="cnc_3d_iso.png" alt="Mod√®le 3D vue isom√©trique">
            <div class="modal-img-caption">Vue isom√©trique de la pi√®ce</div>
          </div>
          <div class="modal-img-container">
            <img src="cnc_3d_top.png" alt="Mod√®le 3D vue de dessus">
            <div class="modal-img-caption">Vue de dessus</div>
          </div>
        </div>
      </div>

      <!-- MISE EN PLAN -->
      <div class="modal-section">
        <h3><i class="fas fa-drafting-compass"></i> Mise en plan cot√©e</h3>
        <p>Une mise en plan compl√®te a ensuite √©t√© r√©alis√©e avec toutes les cotations n√©cessaires √† la programmation CNC : dimensions globales (150√ó100 mm), positions des centres de poches, diam√®tres des per√ßages, profondeurs d'usinage et la section B-B montrant le profil en coupe.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="cnc_plan.png" alt="Mise en plan cot√©e" style="width:100%;">
            <div class="modal-img-caption">Mise en plan compl√®te ‚Äî Section B-B et vue de dessus cot√©e</div>
          </div>
        </div>
      </div>

      <!-- S√âLECTION DES OUTILS -->
      <div class="modal-section">
        <h3><i class="fas fa-tools"></i> S√©lection des outils</h3>
        <p>Quatre outils ont √©t√© s√©lectionn√©s avec leurs param√®tres technologiques optimis√©s :</p>
        <ul>
          <li><code style="color:#60a5fa;">Tool call 8 Z s2000 F200.</code> ‚Äî Fraise de contournage, utilis√©e pour le contour ext√©rieur de la pi√®ce</li>
          <li><code style="color:#60a5fa;">Tool call 5 Z s2000 F300.</code> ‚Äî Fraise pour poches et rainures, utilis√©e pour les poches circulaires, rectangulaires et les rainures</li>
          <li><code style="color:#60a5fa;">Tool call 4 Z1300 F300.</code> ‚Äî Foret principal, utilis√© pour le per√ßage en motif polaire (4 trous)</li>
          <li><code style="color:#60a5fa;">Tool call 41 Z1300 F300.</code> ‚Äî Foret petit diam√®tre, utilis√© pour le per√ßage unitaire</li>
        </ul>
      </div>

      <!-- PROGRAMME CNC -->
      <div class="modal-section">
        <h3><i class="fas fa-code"></i> Programme CNC (Heidenhain Klartext ‚Äî 62 lignes)</h3>
        <p style="margin-bottom:0.75rem;">Le programme complet couvre les op√©rations suivantes : contournage ext√©rieur, poche circulaire (CYCL 252), poche rectangulaire (CYCL 251), rainure inclin√©e (CYCL 253), per√ßage en motif polaire (CYCL 200 + CYCL 220), per√ßage unitaire, rainures crois√©es et poche circulaire centrale.</p>
        <div class="code-tabs">
          <button class="code-tab active" onclick="switchCodeTab(this, 'cnc-full')">Programme complet</button>
        </div>
        <div class="code-panel active" id="cnc-full">
          <pre>0 BEGIN PGM project MM
1 BLK FORM 0.1 Z X+0 Y+0 Z-20
2 BLK FORM 0.2 X+150 Y+100 Z+0

; ===== CONTOURNAGE EXTERIEUR (Outil 8) =====
3 TOOL CALL 8 Z S2000 F200
4 L Z+100 RO FMAX M3
5 L X+5 Y-20 RL
6 L Z-5
7 L X+5 Y+95
8 RND R8
9 L X+135 Y+95
10 CR X+145 Y+80 R+20 DR-
11 L X+145 Y+24
12 CT X+136 Y+9
13 L X+128.5 Y+5
14 L X+35.5
15 L Y+15
16 CC X+26.5 Y+25
17 C X+17.5 Y+15 DR+
18 L Y+5
19 L X+11
20 L X+5 Y+11
21 L X-20
22 L Z+50 FMAX
23 ;

; ===== POCHES ET RAINURES (Outil 5) =====
24 TOOL CALL 5 Z S2000 F300
25 L Z+50 RO FMAX M3
26 ;
27 L X+125 Y+30
28 CYCL DEF 252 CIRCULAR POCKET
    Q215=0   ; MACHINING OPERATION
    Q223=+20 ; CIRCLE DIAMETER
    Q368=+0  ; ALLOWANCE FOR SIDE
    Q207=AUTO ; FEED RATE FOR MILLING
    Q351=1   ; CLIMB OR UP-CUT
    Q201=-3  ; DEPTH
    Q202=+5  ; PLUNGING DEPTH
    Q369=+0  ; ALLOWANCE FOR FLOOR
    Q206=AUTO ; FEED RATE FOR PLUNGING
    Q338=0   ; INFEED FOR FINISHING
    Q200=+5  ; SET-UP CLEARANCE
    Q203=+0  ; SURFACE COORDINATE
    Q204=+50 ; 2ND SET-UP CLEARANCE
    Q370=0.8 ; TOOL PATH OVERLAP
    Q366=+1  ; PLUNGE
    Q385=AUTO ; FINISHING FEED RATE
29 CYCL CALL
30 ;

31 CYCL DEF 251 RECTANGULAR POCKET
    Q215=0   ; MACHINING OPERATION
    Q218=+30 ; FIRST SIDE LENGTH
    Q367=+0  ; ANGLE OF ROTATION
    Q207=AUTO ; FEED RATE FOR MILLING
    Q351=1   ; CLIMB OR UP-CUT
    Q201=-5  ; DEPTH
    Q202=+5  ; PLUNGING DEPTH
    Q369=+0  ; ALLOWANCE FOR FLOOR
    Q206=AUTO ; FEED RATE FOR PLUNGING
    Q338=0   ; INFEED FOR FINISHING
    Q200=+5  ; SET-UP CLEARANCE
    Q203=+0  ; SURFACE COORDINATE
    Q204=+50 ; 2ND SET-UP CLEARANCE
    Q370=0.8 ; TOOL PATH OVERLAP
    Q366=+1  ; PLUNGE
    Q385=AUTO ; FINISHING FEED RATE
32 CYCL CALL
33 ;

34 L X+125 Y+71
35 CYCL DEF 253 SLOT MILLING
    Q215=0   ; MACHINING OPERATION
    Q218=+32 ; SLOT LENGTH
    Q219=+12 ; SLOT WIDTH
    Q368=+0  ; ALLOWANCE FOR SIDE
    Q374=+120 ; ANGLE OF ROTATION
    Q367=+0  ; SLOT POSITION
    Q207=AUTO ; FEED RATE FOR MILLING
    Q351=1   ; CLIMB OR UP-CUT
    Q201=-6  ; DEPTH
    Q202=+5  ; PLUNGING DEPTH
    Q369=+0  ; ALLOWANCE FOR FLOOR
    Q206=AUTO ; FEED RATE FOR PLUNGING
    Q338=0   ; INFEED FOR FINISHING
    Q200=+5  ; SET-UP CLEARANCE
    Q203=+0  ; SURFACE COORDINATE
    Q204=+50 ; 2ND SET-UP CLEARANCE
    Q366=+1  ; PLUNGE
    Q385=AUTO ; FINISHING FEED RATE
36 CYCL CALL POS X+75 Y+50 Z+0
37 ;

; ===== PERCAGE MOTIF POLAIRE (Outil 4) =====
38 TOOL CALL 4 Z S1300 F300
39 CYCL DEF 200 DRILLING
    Q200=+5  ; SET-UP CLEARANCE
    Q201=-20 ; DEPTH
    Q206=AUTO ; FEED RATE FOR PLUNGING
    Q202=+5  ; PLUNGING DEPTH
    Q210=0   ; DWELL TIME AT TOP
    Q203=+0  ; SURFACE COORDINATE
    Q204=+50 ; 2ND SET-UP CLEARANCE
    Q211=0   ; DWELL TIME AT DEPTH
40 CYCL DEF 220 POLAR PATTERN
    Q216=+75 ; CENTER IN 1ST AXIS
    Q217=+50 ; CENTER IN 2ND AXIS
    Q244=+60 ; PITCH CIRCLE DIAMETER
    Q245=+45 ; STARTING ANGLE
    Q246=+360 ; STOPPING ANGLE
    Q247=+90 ; STEPPING ANGLE
    Q241=+4  ; NR OF REPETITIONS
41 CYCL CALL
42 ;

; ===== PERCAGE UNITAIRE (Outil 41) =====
43 TOOL DEF 41
44 TOOL CALL 41 Z S1300 F300
45 L X+12 Y+40
46 CYCL DEF 200 DRILLING
    Q200=+5  ; SET-UP CLEARANCE
    Q201=-10 ; DEPTH
    Q206=AUTO ; FEED RATE FOR PLUNGING
    Q202=+5  ; PLUNGING DEPTH
    Q210=0   ; DWELL TIME AT TOP
    Q203=+0  ; SURFACE COORDINATE
    Q204=+50 ; 2ND SET-UP CLEARANCE
    Q211=0   ; DWELL TIME AT DEPTH
47 CYCL CALL
48 ;
49 ;
50 ;

; ===== RAINURES CROISEES + POCHE CENTRALE (Outil 5) =====
51 TOOL CALL 5 Z S2000 F300
52 CYCL DEF 253 SLOT MILLING
    Q215=0   ; MACHINING OPERATION
    Q218=+70 ; SLOT LENGTH
    Q219=+20 ; SLOT WIDTH
    Q368=+0  ; ALLOWANCE FOR SIDE
    Q374=+90 ; ANGLE OF ROTATION
    Q367=+0  ; SLOT POSITION
    Q207=AUTO ; FEED RATE FOR MILLING
    Q351=1   ; CLIMB OR UP-CUT
    Q201=-5  ; DEPTH
    Q202=+5  ; PLUNGING DEPTH
    Q369=+0  ; ALLOWANCE FOR FLOOR
    Q206=AUTO ; FEED RATE FOR PLUNGING
    Q338=0   ; INFEED FOR FINISHING
    Q200=+5  ; SET-UP CLEARANCE
    Q203=+0  ; SURFACE COORDINATE
    Q204=+50 ; 2ND SET-UP CLEARANCE
    Q366=+1  ; PLUNGE
    Q385=AUTO ; FINISHING FEED RATE
53 CYCL CALL POS X+75 Y+50 Z+0
54 ;

55 CYCL DEF 253 SLOT MILLING
    Q215=0   ; MACHINING OPERATION
    Q218=+70 ; SLOT LENGTH
    Q219=+20 ; SLOT WIDTH
    Q368=+0  ; ALLOWANCE FOR SIDE
    Q374=+0  ; ANGLE OF ROTATION
    Q367=+0  ; SLOT POSITION
    Q207=AUTO ; FEED RATE FOR MILLING
    Q351=1   ; CLIMB OR UP-CUT
    Q201=-5  ; DEPTH
    Q202=+5  ; PLUNGING DEPTH
    Q369=+0  ; ALLOWANCE FOR FLOOR
    Q206=AUTO ; FEED RATE FOR PLUNGING
    Q338=0   ; INFEED FOR FINISHING
    Q200=+5  ; SET-UP CLEARANCE
    Q203=+0  ; SURFACE COORDINATE
    Q204=+50 ; 2ND SET-UP CLEARANCE
    Q366=+1  ; PLUNGE
    Q385=AUTO ; FINISHING FEED RATE
56 CYCL CALL POS X+75 Y+50 Z+0
57 ;

58 L X+75 Y+50 Z+0
59 CYCL DEF 252 CIRCULAR POCKET
    Q215=0   ; MACHINING OPERATION
    Q223=+20 ; CIRCLE DIAMETER
    Q368=+0  ; ALLOWANCE FOR SIDE
    Q207=AUTO ; FEED RATE FOR MILLING
    Q351=1   ; CLIMB OR UP-CUT
    Q201=-8  ; DEPTH
    Q202=+5  ; PLUNGING DEPTH
    Q369=+0  ; ALLOWANCE FOR FLOOR
    Q206=AUTO ; FEED RATE FOR PLUNGING
    Q338=0   ; INFEED FOR FINISHING
    Q200=+5  ; SET-UP CLEARANCE
    Q203=+0  ; SURFACE COORDINATE
    Q204=+50 ; 2ND SET-UP CLEARANCE
    Q370=0.8 ; TOOL PATH OVERLAP
    Q366=+1  ; PLUNGE
    Q385=AUTO ; FINISHING FEED RATE
60 CYCL CALL
61 ;

62 END PGM project MM</pre>
        </div>
      </div>

      <!-- SIMULATION -->
      <div class="modal-section">
        <h3><i class="fas fa-play-circle"></i> R√©sultat de simulation</h3>
        <p>Le programme a √©t√© simul√© avec succ√®s dans l'environnement Heidenhain iTNC 530. La simulation confirme que toutes les op√©rations d'usinage sont correctement ex√©cut√©es : le contour ext√©rieur, les poches, les rainures crois√©es et les per√ßages correspondent aux g√©om√©tries d√©finies dans le mod√®le 3D.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="cnc_simulation.png" alt="R√©sultat simulation CNC">
            <div class="modal-img-caption">R√©sultat de simulation ‚Äî pi√®ce usin√©e virtuellement</div>
          </div>
        </div>
      </div>

      <!-- R√âSULTAT -->
      <div class="modal-section">
        <h3><i class="fas fa-check-circle"></i> R√©sultat final</h3>
        <p>Ce projet a permis de ma√Ætriser l'ensemble de la cha√Æne num√©rique CAD/CAM/CNC : de la mod√©lisation 3D sous SolidWorks √† la programmation en langage Heidenhain Klartext, en passant par la s√©lection et l'optimisation des param√®tres d'usinage. Le programme de 62 lignes couvre des op√©rations vari√©es (contournage, poches circulaires et rectangulaires, rainures, per√ßage en motif polaire) et d√©montre l'int√©r√™t des outils num√©riques modernes pour garantir pr√©cision et efficacit√© en usinage.</p>
      </div>

    </div>
  </div>

  <!-- ==================== MODAL MONTAGE D'USINAGE ==================== -->
  <div class="projet-modal" id="modalUsinage">
    <div class="modal-overlay" onclick="closeModal()"></div>
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal()"><i class="fas fa-times"></i></button>

      <div class="modal-header">
        <h2>Montage d'usinage ‚Äî Conception pour per√ßage de pi√®ces cylindriques</h2>
        <div class="modal-tags">
          <span class="projet-tag">SolidWorks</span>
          <span class="projet-tag">Isostatisme</span>
          <span class="projet-tag">Mise en position</span>
          <span class="projet-tag">Conception</span>
        </div>
      </div>

      <!-- √âNONC√â -->
      <div class="modal-section">
        <h3><i class="fas fa-file-pdf"></i> √ânonc√© du projet</h3>
        <div style="border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.06);margin-bottom:0.5rem;">
          <iframe src="usinage_sujet.pdf" style="width:100%;height:600px;border:none;background:#1a1a24;"></iframe>
        </div>
        <p style="margin-top:0.75rem;font-size:0.85rem;color:#707070;">
          <a href="usinage_sujet.pdf" target="_blank" style="color:#60a5fa;"><i class="fas fa-download" style="margin-right:0.4rem;"></i>T√©l√©charger le sujet (PDF)</a>
        </p>
      </div>

      <!-- OBJECTIF -->
      <div class="modal-section">
        <h3><i class="fas fa-bullseye"></i> Objectif du projet</h3>
        <p>L'objectif du projet √©tait de concevoir un montage d'usinage permettant de positionner et maintenir une pi√®ce cylindrique pendant une op√©ration de per√ßage, en respectant les principes d'isostatisme, de simplicit√© de fabrication et de co√ªt r√©duit. Le montage devait √™tre ergonomique, rigide et adapt√© √† une utilisation sur perceuse √† colonne.</p>
      </div>

      <!-- ANALYSE PI√àCE -->
      <div class="modal-section">
        <h3><i class="fas fa-search"></i> Analyse de la pi√®ce</h3>
        <p>Le travail a commenc√© par l'analyse du dessin de d√©finition de la pi√®ce afin d'identifier les surfaces fonctionnelles n√©cessaires √† la mise en position. La pi√®ce devait √™tre positionn√©e en prenant appui sur le cylindre principal, sur une surface plane et sur les surfaces lat√©rales de la rainure afin d'obtenir une liaison encastrement isostatique.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="usinage_piece.png" alt="Pi√®ce cylindrique √† percer">
            <div class="modal-img-caption">Pi√®ce cylindrique √† percer ‚Äî trou √† r√©aliser (pointill√©s)</div>
          </div>
        </div>
      </div>

      <!-- MISE EN POSITION -->
      <div class="modal-section">
        <h3><i class="fas fa-arrows-alt"></i> Mise en position ‚Äî Rainure chanfrein√©e</h3>
        <p>La mise en position a √©t√© r√©alis√©e √† l'aide d'un syst√®me de rainure permettant de positionner la pi√®ce sur sa partie cylindrique principale. Des chanfreins ont √©t√© ajout√©s afin d'am√©liorer le contact et √©viter l'endommagement de la pi√®ce tout en permettant un contr√¥le rapide des pi√®ces hors tol√©rance.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="usinage_rainure_detail.png" alt="Vue rainure avec pi√®ce">
            <div class="modal-img-caption">Vue d√©taill√©e ‚Äî pi√®ce positionn√©e dans la rainure</div>
          </div>
        </div>
        <div class="modal-img-grid single" style="margin-top:1rem;">
          <div class="modal-img-container">
            <img src="usinage_rainure.png" alt="Rainure chanfrein√©e">
            <div class="modal-img-caption">Rainure chanfrein√©e</div>
          </div>
        </div>
      </div>

      <!-- BLOCAGE ROTATION -->
      <div class="modal-section">
        <h3><i class="fas fa-lock"></i> Blocage de rotation</h3>
        <p>Un syst√®me de blocage de rotation r√©glable par vis molet√©e a √©t√© ajout√© afin de garantir l'orientation correcte de la pi√®ce pendant le per√ßage.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="usinage_blocage.png" alt="Blocage rotation vis molet√©e">
            <div class="modal-img-caption">Blocage de rotation par vis molet√©e</div>
          </div>
        </div>
      </div>

      <!-- SAUTERELLE -->
      <div class="modal-section">
        <h3><i class="fas fa-compress-arrows-alt"></i> Maintien en position ‚Äî Sauterelle</h3>
        <p>Le maintien en position a √©t√© assur√© par une sauterelle horizontale permettant un serrage rapide, fiable et ergonomique. Ce syst√®me permet un bridage efficace tout en facilitant la mise en place et le retrait rapide des pi√®ces.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="usinage_sauterelle.png" alt="Sauterelle de serrage">
            <div class="modal-img-caption">Sauterelle horizontale de serrage</div>
          </div>
        </div>
      </div>

      <!-- √âL√âMENTS COMPL√âMENTAIRES -->
      <div class="modal-section">
        <h3><i class="fas fa-puzzle-piece"></i> √âl√©ments compl√©mentaires</h3>
        <p>Des √©l√©ments compl√©mentaires ont ensuite √©t√© int√©gr√©s afin d'assurer le bon fonctionnement du montage :</p>
        <ul>
          <li>Espace de d√©gagement pour le passage du foret</li>
          <li>Canon de per√ßage pour guider le foret</li>
          <li>Support de canon</li>
          <li>Poign√©e pour am√©liorer l'ergonomie</li>
        </ul>
        <div class="modal-img-grid" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="usinage_degagement.png" alt="D√©gagement foret">
            <div class="modal-img-caption">Espace de d√©gagement pour le foret</div>
          </div>
          <div class="modal-img-container">
            <img src="usinage_canon.png" alt="Support canon de per√ßage">
            <div class="modal-img-caption">Support de canon de per√ßage</div>
          </div>
        </div>
        <div class="modal-img-grid single" style="margin-top:1rem;">
          <div class="modal-img-container">
            <img src="usinage_complet.png" alt="Montage complet avec poign√©e">
            <div class="modal-img-caption">Montage complet avec sauterelle et poign√©e</div>
          </div>
        </div>
      </div>

      <!-- MISE EN PLAN -->
      <div class="modal-section">
        <h3><i class="fas fa-drafting-compass"></i> Mise en plan finale</h3>
        <p>Le projet s'est termin√© par la r√©alisation de la mise en plan compl√®te du montage d'usinage.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="usinage_plan.png" alt="Mise en plan montage d'usinage" style="width:100%;">
            <div class="modal-img-caption">Mise en plan finale du montage d'usinage</div>
          </div>
        </div>
      </div>

      <!-- R√âSULTAT FINAL -->
      <div class="modal-section">
        <h3><i class="fas fa-check-circle"></i> R√©sultat final</h3>
        <p>Le montage con√ßu permet un positionnement isostatique pr√©cis, un serrage rapide et une bonne ergonomie d'utilisation. La solution retenue combine efficacit√© m√©canique, simplicit√© de fabrication et r√©duction des co√ªts.</p>
      </div>

    </div>
  </div>

  <!-- ==================== MODAL MULTIPLICATEUR ==================== -->
  <div class="projet-modal" id="modalMulti">
    <div class="modal-overlay" onclick="closeModal()"></div>
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal()"><i class="fas fa-times"></i></button>

      <div class="modal-header">
        <h2>Multiplicateur de pression hydraulique ‚Äî Conception et optimisation de pi√®ces de fonderie</h2>
        <div class="modal-tags">
          <span class="projet-tag">SolidWorks</span>
          <span class="projet-tag">Fonderie aluminium</span>
          <span class="projet-tag">Simulation FEA</span>
          <span class="projet-tag">Optimisation</span>
        </div>
      </div>

      <!-- √âNONC√â -->
      <div class="modal-section">
        <h3><i class="fas fa-file-pdf"></i> √ânonc√© du projet</h3>
        <div style="border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.06);margin-bottom:0.5rem;">
          <iframe src="multi_sujet.pdf" style="width:100%;height:600px;border:none;background:#1a1a24;"></iframe>
        </div>
        <p style="margin-top:0.75rem;font-size:0.85rem;color:#707070;">
          <a href="multi_sujet.pdf" target="_blank" style="color:#60a5fa;"><i class="fas fa-download" style="margin-right:0.4rem;"></i>T√©l√©charger le sujet (PDF)</a>
        </p>
      </div>

      <!-- OBJECTIF -->
      <div class="modal-section">
        <h3><i class="fas fa-bullseye"></i> Objectif du projet</h3>
        <p>L'objectif du projet √©tait de concevoir des pi√®ces de v√©rin hydraulique destin√©es √† √™tre fabriqu√©es par fonderie aluminium, puis de valider leur tenue m√©canique par simulation √©l√©ments finis. Une phase d'optimisation a ensuite √©t√© r√©alis√©e afin de r√©duire la masse des pi√®ces tout en conservant leurs performances m√©caniques et fonctionnelles.</p>
      </div>

      <!-- ANALYSE DU SYST√àME -->
      <div class="modal-section">
        <h3><i class="fas fa-search"></i> Analyse du syst√®me</h3>
        <p>Le travail a commenc√© par l'analyse du fonctionnement d'un multiplicateur de pression hydraulique utilisant un piston diff√©rentiel permettant d'augmenter la pression du fluide. Cette √©tape a permis d'identifier le r√¥le des diff√©rentes pi√®ces ainsi que les surfaces fonctionnelles essentielles.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="multi_plan_ensemble.png" alt="Plan d'ensemble du multiplicateur" style="width:100%;">
            <div class="modal-img-caption">Plan d'ensemble du multiplicateur de pression</div>
          </div>
        </div>
      </div>

      <!-- CONCEPTION T√äTE DE V√âRIN -->
      <div class="modal-section">
        <h3><i class="fas fa-pencil-ruler"></i> Conception de la t√™te de v√©rin</h3>
        <p>La t√™te de v√©rin a ensuite √©t√© con√ßue en int√©grant les r√®gles de conception des pi√®ces de fonderie : choix du plan de joint, angles de d√©pouille, contr√¥le des √©paisseurs et conservation des surfaces fonctionnelles. La pi√®ce a √©t√© mod√©lis√©e en 3D sous SolidWorks.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="multi_tete_3d.png" alt="Mod√®le 3D t√™te de v√©rin">
            <div class="modal-img-caption">Mod√®le 3D de la t√™te de v√©rin</div>
          </div>
        </div>
        <div class="modal-img-grid single" style="margin-top:1rem;">
          <div class="modal-img-container">
            <img src="multi_plan_joint.png" alt="Plan de joint" style="width:100%;">
            <div class="modal-img-caption">Plan de joint de la t√™te de v√©rin</div>
          </div>
        </div>
      </div>

      <!-- SIMULATION T√äTE DE V√âRIN -->
      <div class="modal-section">
        <h3><i class="fas fa-chart-area"></i> Validation m√©canique ‚Äî T√™te de v√©rin</h3>
        <p>Une validation m√©canique a √©t√© r√©alis√©e par simulation en prenant en compte la pression du fluide, les efforts de serrage des goujons et les conditions de montage r√©elles. Les r√©sultats ont confirm√© la tenue m√©canique et la rigidit√© de la pi√®ce.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="multi_tete_simulation.png" alt="Simulation Von Mises t√™te de v√©rin" style="width:100%;">
            <div class="modal-img-caption">Simulation contraintes Von Mises ‚Äî t√™te de v√©rin</div>
          </div>
        </div>
      </div>

      <!-- OPTIMISATION T√äTE DE V√âRIN -->
      <div class="modal-section">
        <h3><i class="fas fa-weight-hanging"></i> Optimisation ‚Äî T√™te de v√©rin</h3>
        <p>La t√™te de v√©rin a ensuite √©t√© optimis√©e en retirant de la mati√®re dans les zones faiblement sollicit√©es, tout en conservant les zones fonctionnelles.</p>
        <div class="modal-img-grid" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="multi_tete_avant.png" alt="T√™te de v√©rin avant optimisation">
            <div class="modal-img-caption">Avant optimisation ‚Äî 1 226,94 g</div>
          </div>
          <div class="modal-img-container">
            <img src="multi_tete_apres.png" alt="T√™te de v√©rin apr√®s optimisation">
            <div class="modal-img-caption">Apr√®s optimisation ‚Äî 851,29 g</div>
          </div>
        </div>
        <div class="modal-result-box">
          <div class="result-row">
            <span>Masse avant optimisation</span>
            <span>1 226,94 g</span>
          </div>
          <div class="result-row">
            <span>Masse apr√®s optimisation</span>
            <span>851,29 g</span>
          </div>
          <div class="result-row highlight">
            <span>Gain de masse</span>
            <span>~376 g (‚àí31%)</span>
          </div>
        </div>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="multi_tete_plan.png" alt="Mise en plan t√™te de v√©rin" style="width:100%;">
            <div class="modal-img-caption">Mise en plan ‚Äî t√™te de v√©rin optimis√©e</div>
          </div>
        </div>
      </div>

      <!-- CONCEPTION EMBASE -->
      <div class="modal-section">
        <h3><i class="fas fa-pencil-ruler"></i> Conception de l'embase</h3>
        <p>L'embase du v√©rin a ensuite √©t√© con√ßue en respectant les contraintes de fabrication par fonderie et les surfaces fonctionnelles li√©es au montage et au passage du fluide. La conception a √©t√© pens√©e pour faciliter la fabrication et l'assemblage.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="multi_embase_3d.png" alt="Vue 3D embase assembl√©e">
            <div class="modal-img-caption">Vue 3D de l'embase assembl√©e</div>
          </div>
        </div>
      </div>

      <!-- SIMULATION EMBASE -->
      <div class="modal-section">
        <h3><i class="fas fa-chart-area"></i> Validation m√©canique ‚Äî Embase</h3>
        <p>Une simulation m√©canique a permis de v√©rifier la tenue m√©canique et la rigidit√© de l'embase sous pression hydraulique et efforts de serrage.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="multi_embase_simulation.png" alt="Simulation contraintes embase" style="width:100%;">
            <div class="modal-img-caption">Simulation contraintes Von Mises ‚Äî embase</div>
          </div>
        </div>
      </div>

      <!-- OPTIMISATION EMBASE -->
      <div class="modal-section">
        <h3><i class="fas fa-weight-hanging"></i> Optimisation ‚Äî Embase</h3>
        <p>Une optimisation g√©om√©trique a ensuite √©t√© r√©alis√©e en retirant de la mati√®re dans les zones peu sollicit√©es tout en conservant les zones soumises √† de fortes contraintes.</p>
        <div class="modal-img-grid" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="multi_embase_avant.png" alt="Embase avant optimisation">
            <div class="modal-img-caption">Avant optimisation ‚Äî 2 381,91 g</div>
          </div>
          <div class="modal-img-container">
            <img src="multi_embase_apres.png" alt="Embase apr√®s optimisation">
            <div class="modal-img-caption">Apr√®s optimisation ‚Äî 1 799,08 g</div>
          </div>
        </div>
        <div class="modal-result-box">
          <div class="result-row">
            <span>Masse avant optimisation</span>
            <span>2 381,91 g</span>
          </div>
          <div class="result-row">
            <span>Masse apr√®s optimisation</span>
            <span>1 799,08 g</span>
          </div>
          <div class="result-row highlight">
            <span>Gain de masse</span>
            <span>~583 g (‚àí24%)</span>
          </div>
        </div>
      </div>

      <!-- MISE EN PLAN EMBASE -->
      <div class="modal-section">
        <h3><i class="fas fa-drafting-compass"></i> Mise en plan finale ‚Äî Embase</h3>
        <p>Le projet s'est termin√© par la r√©alisation de la mise en plan industrielle de l'embase optimis√©e permettant sa fabrication.</p>
        <div class="modal-img-grid single" style="margin-top:1.25rem;">
          <div class="modal-img-container">
            <img src="multi_embase_plan.png" alt="Mise en plan embase" style="width:100%;">
            <div class="modal-img-caption">Mise en plan finale ‚Äî embase optimis√©e</div>
          </div>
        </div>
      </div>

      <!-- R√âSULTAT FINAL -->
      <div class="modal-section">
        <h3><i class="fas fa-check-circle"></i> R√©sultat final</h3>
        <p>Le projet a permis de concevoir des pi√®ces de fonderie optimis√©es, adapt√©es √† la fabrication industrielle, tout en garantissant leur tenue m√©canique et leur rigidit√© par simulation num√©rique.</p>
      </div>

    </div>
  </div>

  <!-- ==================== CONTACT ==================== -->
  <section class="contact" id="contact">
    <div class="section-container">
      <div class="section-line" data-aos="fade-up"></div>
      <h2 class="section-title" data-aos="fade-up" data-aos-delay="50">Me <span>Contacter</span></h2>
      <p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">N'h√©sitez pas √† me joindre</p>

      <div class="contact-grid">

        <a href="mailto:abdeldjallilzerrouni1@gmail.com" class="contact-card" data-aos="fade-up" data-aos-delay="150">
          <div class="contact-icon"><i class="fas fa-envelope"></i></div>
          <div class="contact-label">Email</div>
          <div class="contact-value">abdeldjallilzerrouni1@gmail.com</div>
        </a>

        <a href="tel:+33758752848" class="contact-card" data-aos="fade-up" data-aos-delay="200">
          <div class="contact-icon"><i class="fas fa-phone"></i></div>
          <div class="contact-label">T√©l√©phone</div>
          <div class="contact-value">+33 7 58 75 28 48</div>
        </a>

        <a href="https://www.linkedin.com/in/abdeldjallil-seif-eddine-zerrouni-168975384" target="_blank" class="contact-card" data-aos="fade-up" data-aos-delay="250">
          <div class="contact-icon"><i class="fab fa-linkedin"></i></div>
          <div class="contact-label">LinkedIn</div>
          <div class="contact-value">Abdeldjallil Seif E. Zerrouni</div>
        </a>

      </div>
    </div>
  </section>

  <!-- ==================== FOOTER ==================== -->
  <footer>
    <p>&copy; 2026 ‚Äî Abdeldjallil Seif E. Zerrouni ¬∑ Portfolio G√©nie M√©canique</p>
  </footer>

  <!-- Back to top button -->
  <button id="backToTop" aria-label="Retour en haut"><i class="fas fa-chevron-up"></i></button>

  <!-- ==================== JAVASCRIPT ==================== -->
  <script>
    // Initialisation AOS (Animate On Scroll)
    document.addEventListener('DOMContentLoaded', function() {
      if (typeof AOS !== 'undefined') {
        AOS.init({
          duration: 800,
          easing: 'ease-out-cubic',
          once: true,
          offset: 60,
          disable: 'mobile'
        });
      }
    });

    // Back to top button
    const backToTop = document.getElementById('backToTop');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 400) {
        backToTop.classList.add('visible');
      } else {
        backToTop.classList.remove('visible');
      }
    });
    backToTop.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Theme toggle (dark = default)
    const themeToggle = document.getElementById('themeToggle');
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'light') document.body.classList.add('light-mode');
    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('light-mode');
      const isLight = document.body.classList.contains('light-mode');
      localStorage.setItem('theme', isLight ? 'light' : 'dark');
    });

    // Mobile nav toggle
    const navToggle = document.getElementById('navToggle');
    const navLinks = document.getElementById('navLinks');
    navToggle.addEventListener('click', () => navLinks.classList.toggle('active'));
    navLinks.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => navLinks.classList.remove('active'));
    });

    // Skills filter
    document.querySelectorAll('.skills-categories .skill-cat-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.skills-categories .skill-cat-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const cat = btn.dataset.cat;
        document.querySelectorAll('#skillsGrid .skill-card').forEach(card => {
          card.style.display = (cat === 'all' || card.dataset.category === cat) ? '' : 'none';
        });
      });
    });

    // Projets filter
    document.querySelectorAll('.projets-filters .skill-cat-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.projets-filters .skill-cat-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const filter = btn.dataset.filter;
        document.querySelectorAll('#projetsGrid .projet-card').forEach(card => {
          card.style.display = (filter === 'all' || card.dataset.type === filter) ? '' : 'none';
        });
      });
    });

    // Modal open/close
    function openModal(id) {
      const modal = document.getElementById(id);
      if (modal) {
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    }
    function closeModal() {
      document.querySelectorAll('.projet-modal.active').forEach(m => {
        m.classList.remove('active');
      });
      document.body.style.overflow = '';
    }
    // Close modal on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeModal();
    });

    // Code tab switching
    function switchCodeTab(btn, panelId) {
      const section = btn.closest('.modal-section');
      section.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));
      section.querySelectorAll('.code-panel').forEach(p => p.classList.remove('active'));
      btn.classList.add('active');
      document.getElementById(panelId).classList.add('active');
    }

    // Semester circle toggle
    document.querySelectorAll('.semester-circle').forEach(circle => {
      circle.addEventListener('click', () => {
        const group = circle.parentElement.dataset.group;
        const sem = circle.dataset.semester;
        const contentId = 'sem-' + group + '-' + sem;
        const isActive = circle.classList.contains('active');

        // Deactivate all circles in this group
        circle.parentElement.querySelectorAll('.semester-circle').forEach(c => c.classList.remove('active'));
        // Hide all content panels in the same card
        circle.closest('.formation-card').querySelectorAll('.semester-content').forEach(p => p.classList.remove('active'));

        // If wasn't active, activate it
        if (!isActive) {
          circle.classList.add('active');
          const panel = document.getElementById(contentId);
          if (panel) panel.classList.add('active');
        }
      });
    });

    // Active nav link on scroll
    const sections = document.querySelectorAll('section[id]');
    window.addEventListener('scroll', () => {
      const scrollY = window.scrollY + 100;
      sections.forEach(section => {
        const top = section.offsetTop;
        const height = section.offsetHeight;
        const id = section.getAttribute('id');
        const link = document.querySelector(`.nav-links a[href="#${id}"]`);
        if (link) {
          if (scrollY >= top && scrollY < top + height) {
            link.style.color = '#fff';
          } else {
            link.style.color = '';
          }
        }
      });
    });
  </script>

  <!-- ==================== 3D ENGINE (GLB) ==================== -->
  <script type="module">
  import * as THREE from 'three';
  import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

  (function () {
    const container = document.getElementById('engine-canvas');
    if (!container || window.innerWidth < 769) return; // skip on mobile

    /* ‚îÄ‚îÄ Renderer ‚îÄ‚îÄ */
    const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    renderer.setSize(container.clientWidth, container.clientHeight);
    renderer.setClearColor(0x000000, 0);
    renderer.outputColorSpace = THREE.SRGBColorSpace;
    renderer.toneMapping = THREE.ACESFilmicToneMapping;
    renderer.toneMappingExposure = 1.2;
    container.appendChild(renderer.domElement);

    /* ‚îÄ‚îÄ Scene & Camera ‚îÄ‚îÄ */
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(
      40, container.clientWidth / container.clientHeight, 0.01, 100
    );

    /* ‚îÄ‚îÄ Lights ‚îÄ‚îÄ */
    scene.add(new THREE.AmbientLight(0xffffff, 0.8));
    const dir1 = new THREE.DirectionalLight(0xffffff, 1.2);
    dir1.position.set(5, 8, 6);
    scene.add(dir1);
    const dir2 = new THREE.DirectionalLight(0x3b82f6, 0.4);
    dir2.position.set(-4, 2, -3);
    scene.add(dir2);

    /* ‚îÄ‚îÄ Load GLB ‚îÄ‚îÄ */
    let mixer = null;
    const ANIM_SPEED = 0.6;       // 60% of original speed (slightly slower)
    const AUTO_ROTATE = 0.0004;   // slow turntable
    const clock = new THREE.Clock();

    const loader = new GLTFLoader();
    loader.load('animated_engine_v8.glb', (gltf) => {
      const model = gltf.scene;

      /* Center & scale model to fit nicely */
      const box = new THREE.Box3().setFromObject(model);
      const center = box.getCenter(new THREE.Vector3());
      const size = box.getSize(new THREE.Vector3());
      const maxDim = Math.max(size.x, size.y, size.z);
      const scale = 2.5 / maxDim;

      model.scale.setScalar(scale);
      model.position.sub(center.multiplyScalar(scale));

      scene.add(model);

      /* Camera framing */
      camera.position.set(0, 1.0, 3.8);
      camera.lookAt(0, 0, 0);

      /* Play animations at reduced speed */
      if (gltf.animations && gltf.animations.length > 0) {
        mixer = new THREE.AnimationMixer(model);
        gltf.animations.forEach(clip => {
          const action = mixer.clipAction(clip);
          action.timeScale = ANIM_SPEED;
          action.play();
        });
      }

      /* Fade in 3D */
      container.classList.add('loaded');

      /* Start render loop */
      animate(model);

    }, undefined, (err) => {
      console.warn('GLB load error:', err);
    });

    /* ‚îÄ‚îÄ Animation Loop ‚îÄ‚îÄ */
    let isVisible = true;

    function animate(model) {
      requestAnimationFrame(() => animate(model));
      if (!isVisible) return;

      const delta = clock.getDelta();

      /* Update embedded animations */
      if (mixer) mixer.update(delta);

      /* Slow auto-rotation */
      model.rotation.y += AUTO_ROTATE;

      renderer.render(scene, camera);
    }

    /* ‚îÄ‚îÄ Resize ‚îÄ‚îÄ */
    window.addEventListener('resize', () => {
      if (!container || container.clientWidth === 0) return;
      camera.aspect = container.clientWidth / container.clientHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(container.clientWidth, container.clientHeight);
    });

    /* ‚îÄ‚îÄ Pause when not visible ‚îÄ‚îÄ */
    const obs = new IntersectionObserver(entries => {
      isVisible = entries[0].isIntersecting;
    }, { threshold: 0.05 });
    obs.observe(container);

  })();
  </script>


</body>
</html>
